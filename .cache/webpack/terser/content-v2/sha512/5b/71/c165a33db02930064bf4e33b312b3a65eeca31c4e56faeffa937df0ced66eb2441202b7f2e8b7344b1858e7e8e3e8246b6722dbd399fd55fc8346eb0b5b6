{"map":{"version":3,"sources":["a198fdd9-d53695559e268f8773d0.js"],"names":["window","push","UbBO","module","__webpack_exports__","__webpack_require__","process","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_9__","_Users_melaniehublardhershman_Desktop_petloss_petgrief_github_io_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_9___default","n","_firebase_app__WEBPACK_IMPORTED_MODULE_11__","_firebase_component__WEBPACK_IMPORTED_MODULE_12__","_firebase_util__WEBPACK_IMPORTED_MODULE_13__","_firebase_logger__WEBPACK_IMPORTED_MODULE_14__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","Object","NewTarget","this","constructor","arguments","apply","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","toString","slice","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","SDK_VERSION","id","DOMStorageWrapper","domStorage_","prefix_","key","removeItem","prefixedName_","setItem","storedVal","getItem","MemoryStorage","cache_","isInMemoryStorage","createStoragefor","domStorageName","domStorage","PersistentStorage","SessionStorage","logClient","LUIDGenerator","sha1","str","utf8Bytes","update","sha1Bytes","digest","encodeByteArray","buildLogMessage_","message","arg","undefined","logger","firstLog_","enableLogging$1","logger_","persistent","logLevel","VERBOSE","log","bind","set","remove","get","_len","varArgs","_key2","logWrapper","prefix","_len2","_key3","concat","error","fatal","Error","warn","isInvalidJSONNumber","data","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","MIN_NAME","MAX_NAME","nameCompare","a","b","aAsInt","tryParseInt","bAsInt","stringCompare","requireKey","obj","ObjectToUniqueKey","keys","k","sort","splitStringBySize","segsize","dataSegs","c","substring","each","fn","hasOwnProperty","doubleToIEEE754String","v","ln","Infinity","Math","abs","pow","min","floor","LN2","round","bits","reverse","join","hexByteString","hexByte","parseInt","substr","toLowerCase","INTEGER_REGEXP_","RegExp","intVal","exceptionGuard","setTimeout","stack","setTimeoutNonBlocking","time","timeout","AppCheckTokenProvider","appName_","appCheckProvider","_this","appCheck","getImmediate","optional","then","forceRefresh","_this2","getToken","Promise","resolve","reject","listener","_a","addTokenListener","FirebaseAuthTokenProvider","firebaseOptions_","authProvider_","_this3","auth_","onInit","auth","_this4","catch","code","addAuthTokenListener","removeAuthTokenListener","errorMessage","EmulatorTokenProvider","accessToken","OWNER","FORGE_DOMAIN_RE","RepoInfo","host","secure","namespace","webSocketOnly","nodeAdmin","persistenceKey","includeNamespaceInQueryParams","_host","_domain","indexOf","internalHost","newHost","isCacheableHost","toURLString","protocol","query","repoInfoConnectionURL","repoInfo","type","params","connURL","isCustomHost","repoInfoNeedsQueryParam","pairs","StatsCollection","counters_","amount","collections","reporters","statsManagerGetCollection","hashString","PacketReceiver","onMessage_","pendingResponses","currentResponseNum","closeAfterResponse","onClose","responseNum","callback","requestNum","_this5","_loop","toProcess","_loop2","BrowserPollConnection","connId","applicationId","appCheckToken","authToken","transportSessionId","lastSessionId","_this6","bytesSent","bytesReceived","everConnected_","log_","stats_","urlFn","onMessage","onDisconnect","_this7","curSegmentNum","onDisconnect_","myPacketOrderer","isClosed_","connectTimeoutTimer_","onClosed_","document","readyState","called","wrappedFn","body","addEventListener","attachEvent","executeWhenDOMReady","scriptTagHolder","FirebaseIFrameScriptHolder","_len3","args","_key4","command","arg1","arg2","incrementIncomingBytes_","clearTimeout","password","sendNewPolls","closeAfter","_len4","_key5","pN","handleResponse","urlParams","start","random","uniqueCallbackIdentifier","location","hostname","connectURL","addTag","startLongPoll","addDisconnectPingFrame","close","myDisconnFrame","removeChild","shutdown_","dataStr","incrementCounter","base64data","MAX_URL_DATA_SIZE","enqueueSegment","pw","createElement","dframe","src","style","display","appendChild","forceAllow_","forceDisallow_","href","Windows","UI","commandCB","onMessageCB","outstandingRequests","Set","pendingSegs","currentSerial","myIFrame","createIFrame_","script","domain","iframeContents","doc","open","write","_this8","alive","innerHTML","myID","myPW","newRequest_","size","theURL","curDataString","d","theSeg","shift","seg","ts","addLongPollTag_","segnum","totalsegs","url","serial","_this9","add","doNewRequest","delete","keepaliveTimeout","loadCB","_this10","doNodeLongPoll","newScript","async","onload","onreadystatechange","rstate","parentNode","onerror","iframe","contentWindow","contentDocument","WebSocketImpl","MozWebSocket","WebSocket","WebSocketConnection","keepaliveTimer","frames","totalFrames","connectionURL_","_this11","options","device","headers","User-Agent","platform","X-Firebase-GMPID","env","proxy","origin","mySock","_error","onopen","onclose","onmessage","m","handleIncomingFrame","fullMess","jsonMess","frameCount","isNaN","handleNewFrameCount_","mess","resetKeepAlive","appendFrame_","remainingData","extractFrameCount_","sendString_","String","clearInterval","_this12","setInterval","send","isOldAndroid","navigator","userAgent","oldAndroidMatch","match","parseFloat","responsesRequiredToBeHealthy","healthyTimeout","TransportManager","initTransports_","isWebSocketsAvailable","isSkipPollConnection","previouslyFailed","transports_","_step","transports","_iterator","ALL_TRANSPORTS","transport","globalTransportInitialized_","Connection","repoInfo_","applicationId_","appCheckToken_","authToken_","onReady_","onKill_","connectionCount","pendingDataMessages","state_","transportManager_","start_","_this13","conn","initialTransport","conn_","nextTransportId_","primaryResponsesRequired_","onMessageReceived","connReceiver_","onConnectionLost","disconnReceiver_","tx_","rx_","secondaryConn_","isHealthy_","healthyTimeoutMS","healthyTimeout_","markConnectionHealthy","_this14","everConnected","onConnectionLost_","onSecondaryConnectionLost_","_this15","onPrimaryMessageReceived_","onSecondaryMessageReceived_","dataMsg","msg","t","sendData_","controlData","cmd","upgradeIfSecondaryHealthy_","secondaryResponsesRequired_","parsedData","layer","onSecondaryControl_","proceedWithUpgrade_","tryCleanupConnection","onControl_","onDataMessage_","onPrimaryResponse_","payload","onHandshake_","onConnectionShutdown_","onReset_","sendPingOnPrimaryIfNecessary_","handshake","timestamp","version","h","sessionId","onConnectionEstablished_","tryStartUpgrade_","upgradeTransport","startUpgrade_","_this16","closeConnections_","_this17","reason","ServerActions","pathString","onComplete","hash","token","stats","EventEmitter","allowedEvents_","listeners_","eventType","listeners","_len5","_key6","context","validateEventType_","eventData","getInitialEvent","splice","find","et","OnlineMonitor","_EventEmitter","_super","_this18","online_","trigger","Path","pathOrString","pieceNum","pieces_","split","copyTo","pieceNum_","newEmptyPath","pathGetFront","path","pathGetLength","pathPopFront","pathGetBack","pathSlice","begin","pathParent","pieces","pathChild","childPathObj","_i","childPieces","_i2","pathIsEmpty","newRelativePath","outerPath","innerPath","outer","inner","pathEquals","other","j","pathContains","ValidationPath","errorPrefix_","parts_","byteLength_","max","validationPathCheckValid","validationPath","validationPathToErrorString","VisibilityMonitor","_EventEmitter2","_super2","_this19","hidden","visibilityChange","visible_","visible","PersistentConnection","_ServerActions","_establishConnection_","_super3","onDataUpdate_","onConnectStatus_","onServerInfoUpdate_","authTokenProvider_","appCheckTokenProvider_","authOverride_","_this20","nextPersistentConnectionId_","interruptReasons_","listens","Map","outstandingPuts_","outstandingGets_","outstandingPutCount_","outstandingGetCount_","onDisconnectRequestQueue_","connected_","reconnectDelay_","maxReconnectDelay_","securityDebugCallback_","establishConnectionTimer_","requestCBHash_","requestNumber_","realtime_","forceTokenRefresh_","invalidAuthTokenCount_","invalidAppCheckTokenCount_","firstConnection_","lastConnectionAttemptTime_","lastConnectionEstablishedTime_","getInstance","on","onVisible_","onOnline_","action","onResponse","curReqNum","r","sendRequest","initConnection_","deferred","outstandingGet","request","p","_path","q","_queryObject","index","sendGet_","promise","currentHashFn","tag","queryId","_queryIdentifier","has","_queryParams","isDefault","loadsAllData","listenSpec","hashFn","sendListen_","_this21","_this22","req","status","warnOnListenWarnings_","removeListen_","tryAuth","reduceReconnectDelayIfAdminCredential_","credential","tryAppCheck","_this23","authMethod","requestData","cred","res","onAuthRevoked_","_this24","onAppCheckRevoked_","sendUnlisten_","queryObj","sendOnDisconnect_","response","putInternal","sendPut_","_this25","queued","_this26","errorReason","reqNum","onDataPush_","onListenRevoked_","onSecurityDebugPacket_","Date","getTime","handleTimestamp_","sendConnectStats_","restoreState_","_this27","establishConnection_","scheduleConnect_","online","cancelSentTransactions_","shouldReconnect_","timeSinceLastConnectAttempt","reconnectDelay","mark","_callee","onDataMessage","onReady","_onDisconnect","canceled","connection","closeFn","sendRequestFn","_yield$Promise$all","_yield$Promise$all2","_this28","wrap","_context","prev","onRealtimeDisconnect_","nextConnectionId_","all","sent","interrupt","t0","stop","delta","serverTimeOffset","put","map","listen","normalizedPathString","_map","statusCode","explanation","notifyForInvalidToken","console","replace","_step2","_iterator2","values","_step3","_iterator3","_i3","clientName","reportStats","currentlyOnline","warnings","indexSpec","getIndex","indexPath","__EMPTY_NODE","NamedNode","node","Index","compare","oldNode","newNode","oldWrapped","newWrapped","MIN","KeyIndex","_Index","_super4","indexValue","val","KEY_INDEX","SortedMapIterator","startKey","comparator","isReverse_","resultGenerator_","nodeStack_","cmp","isEmpty","left","right","pop","LLRBNode","color","RED","SortedMap","EMPTY_NODE","count","inorderTraversal","reverseTraversal","min_","maxKey","copy","insert","fixUp_","isRed_","moveRedLeft_","removeMin_","smallest","rotateRight_","moveRedRight_","rotateLeft_","colorFlip_","nl","nr","blackDepth","check_","BLACK","MAX_NODE$2","LLRBEmptyNode","comparator_","root_","rightParent","minKey","resultGenerator","NAME_ONLY_COMPARATOR","NAME_COMPARATOR","__childrenNodeConstructor","nodeFromJSON$1","MAX_NODE$1","priorityHashText","priority","validatePriorityNode","priorityNode","isLeafNode","getPriority","LeafNode","value_","priorityNode_","lazyHash_","newPriorityNode","childName","childNode","newChildNode","updatePriority","updateImmediateChild","front","updateChild","exportFormat",".value","getValue",".priority","toHash","compareToLeafNode_","otherLeaf","otherLeafType","thisLeafType","otherIndex","VALUE_TYPE_ORDER","thisIndex","equals","_defaultIndexMap","PRIORITY_INDEX","_Index2","PriorityIndex","_super5","aPriority","bPriority","indexCmp","compareTo","LOG_2","Base12Num","num","current_","mask","bits_","buildChildSet","childList","keyFn","mapSortFn","root","base12","buildPennant","chunkSize","low","high","childTree","buildBalancedTree","namedNode","middle","attachPennant","pennant","isOne","nextBitIsOne","buildFrom12Array","fallbackObject","IndexMap","indexes_","indexSet_","indexKey","sortedMap","indexDefinition","existingChildren","newIndex","sawIndexedValue","iter","getIterator","Wrap","getNext","isDefinedOn","getCompare","indexName","newIndexSet","assign","newIndexes","_this29","indexedChildren","existingSnap","newChildren","ChildrenNode","children_","indexMap_","_child","getImmediateChild","getChild","newIndexMap","removeFromIndexes","addToIndexes","newPriority","newImmediateChild","numKeys","allIntegerKeys","forEachChild","array","childHash","idx","resolveIndex_","_predecessor","getPredecessorKey","getFirstChildName","getLastChildName","wrappedNode","getIteratorFrom","minPost","startPost","peek","getReverseIteratorFrom","maxPost","endPost","MAX_NODE","hasIndex","addIndex","otherChildrenNode","thisIter","otherIter","thisCurrent","otherCurrent","Default","_ChildrenNode","MaxNode","_super6","defineProperties","MAX","setMaxNode","nodeFromJSON","json","jsonLeaf","childData","children","childrenHavePriority","hinzeJsonObj","child","childSet","sortedChildSet","setNodeFromJSON","lastPushTime","lastRandChars","PathIndex","_Index3","_super7","indexPath_","_this30","snap","aChild","extractChild","bChild","valueNode","VALUE_INDEX","_Index4","ValueIndex","_super8","PUSH_CHARS","changeValue","snapshotNode","changeChildAdded","changeChildRemoved","changeChildChanged","oldSnap","QueryParams","limitSet_","startSet_","startNameSet_","startAfterSet_","endSet_","endNameSet_","endBeforeSet_","limit_","viewFrom_","indexStartValue_","indexStartName_","indexEndValue_","indexEndName_","index_","queryParamsToRestQueryStringParameters","queryParams","orderBy","qs","isViewFromLeft","queryParamsGetQueryObject","viewFrom","ReadonlyRestClient","_ServerActions2","_super9","_this31","listens_","_this32","listenId","getListenId_","thisListen","queryStringParameters","restRequest_","_this33","_this34","_ref","_ref2","xhr","XMLHttpRequest","responseText","SnapshotHolder","rootNode_","newSnapshotNode","newSparseSnapshotTree","sparseSnapshotTreeRemember","sparseSnapshotTree","clear","childKey","sparseSnapshotTreeForEachTree","prefixPath","func","forEach","tree","sparseSnapshotTreeForEachChild","OperationType","StatsListener","collection_","last_","newStats","stat","StatsReporter","collection","server_","statsToReport_","statsListener_","reportStats_","_this35","reportedStats","haveStatsToReport","newOperationSourceServerTaggedQuery","fromUser","fromServer","tagged","emptyChildrenSingleton","AckUserWrite","affectedTree","revert","ACK_USER_WRITE","source","subtree","Overwrite","OVERWRITE","Merge","MERGE","CacheNode","node_","fullyInitialized_","filtered_","isFullyInitialized","isCompleteForChild","hasChild","eventGeneratorGenerateEventsForType","eventGenerator","events","changes","registrations","eventCache","filteredChanges","filter","change","aWrapped","bWrapped","eventGeneratorCompareChanges","materializedChange","prevName","getPredecessorChildName","eventGeneratorMaterializeSingleChange","registration","respondsTo","createEvent","query_","newViewCache","serverCache","viewCacheUpdateEventSnap","viewCache","eventSnap","complete","filtered","viewCacheUpdateServerSnap","serverSnap","viewCacheGetCompleteEventSnap","getNode","viewCacheGetCompleteServerSnap","EmptyChildren","ImmutableTree","relativePath","predicate","_child3","childExistingPathAndValue","findRootMostMatchingPathAndValue","toSet","newChild","_child5","_child6","newTree","setTree","fold_","pathSoFar","accum","findOnPath_","pathToFollow","nextChild","foreachOnPath_","currentRelativePath","foreach_","childPath","childSnap","CompoundWrite","writeTree_","compoundWriteAddWrite","compoundWrite","rootmost","findRootMostValueAndPath","rootMostPath","_newWriteTree","compoundWriteAddWrites","updates","newWrite","compoundWriteRemoveWrite","empty","_newWriteTree2","compoundWriteHasCompleteWrite","compoundWriteGetCompleteNode","compoundWriteGetCompleteChildren","compoundWriteChildCompoundWrite","shadowingNode","compoundWriteIsEmpty","compoundWriteApply","applySubtreeWrite","writeTree","priorityWrite","writeTreeChildWrites","newWriteTreeRef","writeTreeGetWrite","writeId","allWrites","record","writeTreeRemoveWrite","findIndex","writeToRemove","removedWriteWasVisible","removedWriteOverlapsWithOtherWrites","currentWrite","writeTreeRecordContainsPath_","visibleWrites","writeTreeLayerTree_","writeTreeDefaultFilter_","lastWriteId","writeTreeResetTree_","writeRecord","writes","treeRoot","writePath","_child8","deepNode","writeTreeCalcCompleteEventCache","treePath","completeServerCache","writeIdsToExclude","includeHiddenWrites","merge","subMerge","writeTreeRefCalcCompleteEventCache","writeTreeRef","writeTreeRefCalcCompleteEventChildren","completeServerChildren","completeChildren","topLevelSet","writeTreeCalcCompleteEventChildren","writeTreeRefCalcEventCacheAfterServerOverwrite","existingEventSnap","existingServerSnap","childMerge","writeTreeCalcEventCacheAfterServerOverwrite","writeTreeRefShadowingWrite","writeTreeShadowingWrite","writeTreeRefCalcIndexedSlice","completeServerData","toIterate","withIndex","nodes","writeTreeCalcIndexedSlice","writeTreeRefCalcCompleteChild","existingServerCache","writeTreeCalcCompleteChild","writeTreeRefChild","ChildChangeAccumulator","changeMap","oldChange","oldType","NO_COMPLETE_CHILD_SOURCE","NoCompleteChildSource_","WriteTreeCompleteChildSource","writes_","viewCache_","optCompleteServerCache_","serverNode","viewProcessorApplyOperation","viewProcessor","oldViewCache","operation","writesCache","completeCache","filterServerNode","accumulator","overwrite","viewProcessorApplyUserOverwrite","isFiltered","viewProcessorApplyServerOverwrite","changedChildren","curViewCache","foreach","viewProcessorCacheHasChild","viewProcessorApplyUserMerge","viewProcessorApplyServerMerge","ackUserWrite","newEventCache","oldEventCache","serverChildren","updateFullNode","filtersNodes","viewProcessorRevertUserWrite","ackPath","isCompleteForPath","_changedChildren","mergePath","serverCachePath","viewProcessorAckUserWrite","LISTEN_COMPLETE","oldServerNode","viewProcessorGenerateEventCacheAfterServerEvent","viewProcessorListenComplete","getChanges","isLeafOrEmpty","oldCompleteSnap","viewProcessorMaybeAddValueEvent","changePath","oldEventSnap","completeEventChildren","completeNode","oldEventNode","updatedPriority","newEventChild","childChangePath","eventChildUpdate","changedSnap","newServerCache","oldServerSnap","serverFilter","getIndexedFilter","newServerNode","oldChild","getCompleteChild","viewProcessorApplyMerge","viewMergeTree","childMergeTree","isUnknownDeepMerge","referenceConstructor$1","viewGetCompleteServerCache","view","cache","viewApplyOperation","processor_","isIndexed","viewGenerateEventsForChanges_","eventRegistration","eventRegistrations_","eventRegistrations","moves","indexedValueChanged","eventGeneratorGenerateEventsForChanges","eventGenerator_","referenceConstructor","syncPointApplyOperation","syncPoint","optCompleteServerCache","views","_step4","_iterator5","_view","syncPointGetCompleteServerCache","_step7","_iterator8","SyncTree","listenProvider_","syncPointTree_","pendingWriteTree_","tagToQueryMap","queryToTagMap","syncTreeApplyUserOverwrite","syncTree","newData","writeTreeAddOverwrite","syncTreeApplyOperationToSyncPoints_","syncTreeAckUserWrite","needToReevaluate","syncTreeApplyServerOverwrite","syncTreeApplyTaggedQueryOverwrite","queryKey","syncTreeQueryKeyForTag_","syncTreeParseQueryKey_","queryPath","syncTreeApplyTaggedOperation_","syncTreeCalcCompleteEventCache","findOnPath","syncTreeApplyOperationHelper_","syncPointTree","syncTreeApplyOperationDescendantsHelper_","childServerCache","childWritesCache","childOperation","operationForChild","splitIndex","ExistingValueProvider","DeferredValueProvider","syncTree_","path_","resolveDeferredLeafValue","existingVal","serverValues","resolveScalarDeferredValue","resolveComplexDeferredValue","JSON","stringify","op","existing","unused","existingNode","resolveDeferredValueTree","resolveDeferredValue","resolveDeferredValueSnapshot","rawPri","leafNode","childrenNode","Tree","parent","childCount","treeSubTree","pathObj","treeGetValue","treeSetValue","treeUpdateParents","treeHasChildren","treeForEachChild","treeGetPath","childEmpty","treeIsEmpty","childExists","treeUpdateChild","INVALID_KEY_REGEX_","INVALID_PATH_REGEX_","isValidKey","isValidPathString","validateFirebaseData","errorPrefix","hasDotValue","hasActualChild","last","validationPathPop","validateUrl","fnName","parsedUrl","isValidRootPathString","EventQueue","eventLists_","recursionDepth_","eventQueueQueueEvents","eventQueue","eventDataList","currList","getPath","eventQueueRaiseEventsForChangedPath","changedPath","eventQueueRaiseQueuedEventsMatchingPredicate","eventPath","sentAll","eventList","eventListRaise","eventFn","getEventRunner","Repo","forceRestClient_","appCheckProvider_","dataUpdateCount","eventQueue_","nextWriteId_","interceptServerDataCallback_","transactionQueueTree_","persistentConnection_","repoStart","repo","appId","authOverride","search","isMerge","repoOnDataUpdate","repoOnConnectStatus","connectStatus","repoUpdateInfo","repoOnServerInfoUpdate","creatorFunction","addTokenChangeListener","refreshAuthToken","refreshAppCheckToken","statsReporter_","infoData_","infoSyncTree_","startListening","infoEvents","stopListening","serverSyncTree_","unlisten","repoServerTime","offset","repoGenerateServerValues","taggedChildren","raw","changeTree","fromObject","syncTreeApplyTaggedQueryMerge","taggedSnap","syncTreeApplyServerMerge","affectedPath","repoRerunTransactions","repoLog","resolvedOnDisconnectTree","resolved","repoAbortTransactions","repoRunOnDisconnectEvents","updateSnapshot","repoGetNextWriteId","repoInterrupt","_len6","_key7","repoGetLatestState","excludeSets","repoSendReadyTransactions","repoPruneCompletedTransactionsBelowNode","queue","repoBuildTransactionQueue","allRun","every","transaction","repoSendTransactionQueue","setsToIgnore","txn","currentWriteId","latestState","snapToSend","latestHash","retryCount","currentOutputSnapshotRaw","dataToSend","pathToSend","callbacks","_loop3","_i5","currentOutputSnapshotResolved","unwatcher","_i6","_i7","_i8","abortReason","rootMostTransactionNode","repoGetAncestorTransactionNode","_loop4","abortTransaction","currentNode","currentInputSnapshot","newDataNode","oldWriteId","newNodeResolved","applyLocally","_i9","repoRerunTransactionQueue","transactionNode","transactionQueue","repoAggregateTransactionQueuesForNode","nodeQueue","order","to","includeSelf","treeForEachAncestor","repoAbortTransactionsOnNode","treeForEachDescendant","childrenFirst","lastSent","_i10","parseRepoInfo","dataURL","parseDatabaseURL","scheme","subdomain","port","colonInd","slashInd","questionMarkInd","pathStringDecoded","piece","decodeURIComponent","decodePath","queryString","results","charAt","_step9","_iterator10","segment","kv","decodeQuery","hostWithoutPort","dotInd","QueryImpl","_repo","_orderByCalled","ReferenceImpl","sameRepo","samePath","sameQueryIdentifier","encodeURIComponent","pathToUrlEncodedString","_QueryImpl","_super10","parentPath","ref","syncPointSetReferenceConstructor","syncTreeSetReferenceConstructor","repos","useRestClient","repoManagerDatabaseFromApp","app","authProvider","dbUrl","databaseURL","projectId","isEmulator","dbEmulatorHost","authTokenProvider","appRepos","repoManagerCreateRepo","Database","_repoInternal","_instanceStarted","_rootInternal","appName","apiName","simpleListen","echo","onEcho","variant","setSDKVersion","container","_ref3","instanceIdentifier","getProvider","setMultipleInstances"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{UbBO:function(e,t,n){\"use strict\";(function(e){var t=n(\"ODXe\"),i=n(\"HaE+\"),r=n(\"JX7q\"),o=n(\"Ji7U\"),s=n(\"md7G\"),a=n(\"foSv\"),u=n(\"KQm4\"),l=n(\"1OyB\"),c=n(\"vuIU\"),h=n(\"o0o1\"),d=n.n(h),f=(n(\"ToJy\"),n(\"WJvL\")),v=n(\"IuUc\"),_=n(\"H9WU\"),p=n(\"5pEQ\");function y(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(a.a)(e);if(t){var r=Object(a.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(s.a)(this,n)}}function g(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var k=\"@firebase/database\",b=\"\";var C,w=function(){function e(t){Object(l.a)(this,e),this.domStorage_=t,this.prefix_=\"firebase:\"}return Object(c.a)(e,[{key:\"set\",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(_.J)(t))}},{key:\"get\",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(_.C)(t)}},{key:\"remove\",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:\"prefixedName_\",value:function(e){return this.prefix_+e}},{key:\"toString\",value:function(){return this.domStorage_.toString()}}]),e}(),O=function(){function e(){Object(l.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(c.a)(e,[{key:\"set\",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:\"get\",value:function(e){return Object(_.k)(this.cache_,e)?this.cache_[e]:null}},{key:\"remove\",value:function(e){delete this.cache_[e]}}]),e}(),T=function(e){try{if(\"undefined\"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem(\"firebase:sentinel\",\"cache\"),t.removeItem(\"firebase:sentinel\"),new w(t)}}catch(n){}return new O},I=T(\"localStorage\"),S=T(\"sessionStorage\"),j=new p.b(\"@firebase/database\"),E=(C=1,function(){return C++}),N=function(e){var t=Object(_.I)(e),n=new _.d;n.update(t);var i=n.digest();return _.g.encodeByteArray(i)},R=function e(){for(var t=\"\",n=0;n<arguments.length;n++){var i=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(i)||i&&\"object\"==typeof i&&\"number\"==typeof i.length?t+=e.apply(null,i):t+=\"object\"==typeof i?Object(_.J)(i):i,t+=\" \"}return t},P=null,x=!0,D=function(e,t){Object(_.e)(!t||!0===e||!1===e,\"Can't turn on custom loggers persistently.\"),!0===e?(j.logLevel=p.a.VERBOSE,P=j.log.bind(j),t&&S.set(\"logging_enabled\",!0)):\"function\"==typeof e?P=e:(P=null,S.remove(\"logging_enabled\"))},M=function(){if(!0===x&&(x=!1,null===P&&!0===S.get(\"logging_enabled\")&&D(!0)),P){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=R.apply(null,t);P(i)}},A=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];M.apply(void 0,[e].concat(n))}},F=function(){var e=\"FIREBASE INTERNAL ERROR: \"+R.apply(void 0,arguments);j.error(e)},L=function(){var e=\"FIREBASE FATAL ERROR: \".concat(R.apply(void 0,arguments));throw j.error(e),new Error(e)},q=function(){var e=\"FIREBASE WARNING: \"+R.apply(void 0,arguments);j.warn(e)},W=function(e){return\"number\"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},U=\"[MIN_NAME]\",H=\"[MAX_NAME]\",z=function(e,t){if(e===t)return 0;if(e===U||t===H)return-1;if(t===U||e===H)return 1;var n=$(e),i=$(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1},B=function(e,t){return e===t?0:e<t?-1:1},V=function(e,t){if(t&&e in t)return t[e];throw new Error(\"Missing required key (\"+e+\") in object: \"+Object(_.J)(t))},K=function e(t){if(\"object\"!=typeof t||null===t)return Object(_.J)(t);var n=[];for(var i in t)n.push(i);n.sort();for(var r=\"{\",o=0;o<n.length;o++)0!==o&&(r+=\",\"),r+=Object(_.J)(n[o]),r+=\":\",r+=e(t[n[o]]);return r+=\"}\"},Y=function(e,t){var n=e.length;if(n<=t)return[e];for(var i=[],r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function G(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Q=function(e){Object(_.e)(!W(e),\"Invalid JSON number\");var t,n,i,r,o;0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,i=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var a=s.join(\"\"),u=\"\";for(o=0;o<64;o+=8){var l=parseInt(a.substr(o,8),2).toString(16);1===l.length&&(l=\"0\"+l),u+=l}return u.toLowerCase()};var J=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),$=function(e){if(J.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},X=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||\"\";throw q(\"Exception was thrown by user callback.\",e),t}),Math.floor(0))}},Z=function(e,t){var n=setTimeout(e,t);return\"object\"==typeof n&&n.unref&&n.unref(),n},ee=function(){function e(t,n){var i=this;Object(l.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then((function(e){return i.appCheck=e}))}return Object(c.a)(e,[{key:\"getToken\",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,i){setTimeout((function(){t.appCheck?t.getToken(e).then(n,i):n(null)}),0)}))}},{key:\"addTokenChangeListener\",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:\"notifyForInvalidToken\",value:function(){q('Provided AppCheck credentials for the app named \"'.concat(this.appName_,'\" ')+\"are invalid. This usually indicates your app was not initialized correctly.\")}}]),e}(),te=function(){function e(t,n,i){var r=this;Object(l.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit((function(e){return r.auth_=e}))}return Object(c.a)(e,[{key:\"getToken\",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&\"auth/token-not-initialized\"===e.code?(M(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(e)})):new Promise((function(n,i){setTimeout((function(){t.auth_?t.getToken(e).then(n,i):n(null)}),0)}))}},{key:\"addTokenChangeListener\",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:\"removeTokenChangeListener\",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:\"notifyForInvalidToken\",value:function(){var e='Provided authentication credentials for the app named \"'+this.appName_+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.firebaseOptions_?e+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.firebaseOptions_?e+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':e+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',q(e)}}]),e}(),ne=function(){function e(t){Object(l.a)(this,e),this.accessToken=t}return Object(c.a)(e,[{key:\"getToken\",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:\"addTokenChangeListener\",value:function(e){e(this.accessToken)}},{key:\"removeTokenChangeListener\",value:function(e){}},{key:\"notifyForInvalidToken\",value:function(){}}]),e}();ne.OWNER=\"owner\";var ie=/(console\\.firebase|firebase-console-\\w+\\.corp|firebase\\.corp)\\.google\\.com/,re=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"\",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(l.a)(this,e),this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(\".\")+1),this.internalHost=I.get(\"host:\"+t)||this._host}return Object(c.a)(e,[{key:\"isCacheableHost\",value:function(){return\"s-\"===this.internalHost.substr(0,2)}},{key:\"isCustomHost\",value:function(){return\"firebaseio.com\"!==this._domain&&\"firebaseio-demo.com\"!==this._domain}},{key:\"host\",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&I.set(\"host:\"+this._host,this.internalHost))}},{key:\"toString\",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+=\"<\"+this.persistenceKey+\">\"),e}},{key:\"toURLString\",value:function(){var e=this.secure?\"https://\":\"http://\",t=this.includeNamespaceInQueryParams?\"?ns=\".concat(this.namespace):\"\";return\"\".concat(e).concat(this.host,\"/\").concat(t)}}]),e}();function oe(e,t,n){var i;if(Object(_.e)(\"string\"==typeof t,\"typeof type must == string\"),Object(_.e)(\"object\"==typeof n,\"typeof params must == object\"),\"websocket\"===t)i=(e.secure?\"wss://\":\"ws://\")+e.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);i=(e.secure?\"https://\":\"http://\")+e.internalHost+\"/.lp?\"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var r=[];return G(n,(function(e,t){r.push(e+\"=\"+t)})),i+r.join(\"&\")}var se=function(){function e(){Object(l.a)(this,e),this.counters_={}}return Object(c.a)(e,[{key:\"incrementCounter\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(_.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:\"get\",value:function(){return Object(_.n)(this.counters_)}}]),e}(),ae={},ue={};function le(e){var t=e.toString();return ae[t]||(ae[t]=new se),ae[t]}var ce=function(){function e(t){Object(l.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(c.a)(e,[{key:\"closeAfter\",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:\"handleResponse\",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&X((function(){n.onMessage_(e[t])}))},i=0;i<e.length;++i)t(i);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),\"break\";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if(\"break\"===i())break}}}]),e}(),he=function(){function e(t,n,i,r,o,s,a){var u=this;Object(l.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=A(t),this.stats_=le(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),oe(n,\"long_polling\",e)}}return Object(c.a)(e,[{key:\"open\",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(_.z)()||\"complete\"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new de((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],o=t[1],s=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===r)n.id=o,n.password=s;else{if(\"close\"!==r)throw new Error(\"Unrecognized command received: \"+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:\"t\"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=\"5\",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),\"undefined\"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r=\"f\");var t=n.urlFn(e);n.log_(\"Connecting via long-poll to \"+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:\"start\",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:\"markConnectionHealthy\",value:function(){}},{key:\"shutdown_\",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:\"onClosed_\",value:function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:\"close\",value:function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())}},{key:\"send\",value:function(e){var t=Object(_.J)(e);this.bytesSent+=t.length,this.stats_.incrementCounter(\"bytes_sent\",t.length);for(var n=Object(_.i)(t),i=Y(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}},{key:\"addDisconnectPingFrame\",value:function(e,t){if(!Object(_.z)()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}}},{key:\"incrementIncomingBytes_\",value:function(e){var t=Object(_.J)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter(\"bytes_received\",t)}}],[{key:\"forceAllow\",value:function(){e.forceAllow_=!0}},{key:\"forceDisallow\",value:function(){e.forceDisallow_=!0}},{key:\"isAvailable\",value:function(){return!Object(_.z)()&&(!!e.forceAllow_||!(e.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))}}]),e}(),de=function(){function e(t,n,i,r){if(Object(l.a)(this,e),this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(_.z)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=t,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var s=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){M(\"frame writing exception\"),a.stack&&M(a.stack),M(a)}}}return Object(c.a)(e,[{key:\"close\",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:\"startLongPoll\",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:\"newRequest_\",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n=\"\",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+\"&seg\"+i+\"=\"+r.seg+\"&ts\"+i+\"=\"+r.ts+\"&d\"+i+\"=\"+r.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:\"enqueueSegment\",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:\"addLongPollTag_\",value:function(e,t){var n=this;this.outstandingRequests.add(t);var i=function(){n.outstandingRequests.delete(t),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(r),i()}))}},{key:\"addTag\",value:function(e,t){var n=this;Object(_.z)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement(\"script\");i.type=\"text/javascript\",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&\"loaded\"!==e&&\"complete\"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){M(\"Long-poll script failed to load: \"+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))}}],[{key:\"createIFrame_\",value:function(){var e=document.createElement(\"iframe\");if(e.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(e);try{e.contentWindow.document||M(\"No IE domain setting required\")}catch(n){var t=document.domain;e.src=\"javascript:void((function(){document.open();document.domain='\"+t+\"';document.close();})())\"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),fe=null;\"undefined\"!=typeof MozWebSocket?fe=MozWebSocket:\"undefined\"!=typeof WebSocket&&(fe=WebSocket);var ve=function(){function t(e,n,i,r,o,s,a){Object(l.a)(this,t),this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=A(this.connId),this.stats_=le(n),this.connURL=t.connectionURL_(n,s,a,r,i),this.nodeAdmin=n.nodeAdmin}return Object(c.a)(t,[{key:\"open\",value:function(t,n){var i=this;this.onDisconnect=n,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,I.set(\"previous_websocket_failure\",!0);try{var r;if(Object(_.z)()){var o=this.nodeAdmin?\"AdminNode\":\"Node\";r={headers:{\"User-Agent\":\"Firebase/\".concat(\"5\",\"/\").concat(b,\"/\").concat(e.platform,\"/\").concat(o),\"X-Firebase-GMPID\":this.applicationId||\"\"}},this.authToken&&(r.headers.Authorization=\"Bearer \".concat(this.authToken)),this.appCheckToken&&(r.headers[\"X-Firebase-AppCheck\"]=this.appCheckToken);var s={},a=0===this.connURL.indexOf(\"wss://\")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new fe(this.connURL,[],r)}catch(l){this.log_(\"Error instantiating WebSocket.\");var u=l.message||l.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){i.log_(\"Websocket connected.\"),i.everConnected_=!0},this.mySock.onclose=function(){i.log_(\"Websocket connection was disconnected.\"),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(e){i.handleIncomingFrame(e)},this.mySock.onerror=function(e){i.log_(\"WebSocket error.  Closing connection.\");var t=e.message||e.data;t&&i.log_(t),i.onClosed_()}}},{key:\"start\",value:function(){}},{key:\"markConnectionHealthy\",value:function(){I.remove(\"previous_websocket_failure\")}},{key:\"appendFrame_\",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join(\"\");this.frames=null;var n=Object(_.C)(t);this.onMessage(n)}}},{key:\"handleNewFrameCount_\",value:function(e){this.totalFrames=e,this.frames=[]}},{key:\"extractFrameCount_\",value:function(e){if(Object(_.e)(null===this.frames,\"We already have a frame buffer\"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:\"handleIncomingFrame\",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter(\"bytes_received\",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:\"send\",value:function(e){this.resetKeepAlive();var t=Object(_.J)(e);this.bytesSent+=t.length,this.stats_.incrementCounter(\"bytes_sent\",t.length);var n=Y(t,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])}},{key:\"shutdown_\",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:\"onClosed_\",value:function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:\"close\",value:function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())}},{key:\"resetKeepAlive\",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_(\"0\"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:\"sendString_\",value:function(e){try{this.mySock.send(e)}catch(t){this.log_(\"Exception thrown from WebSocket.send():\",t.message||t.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:\"connectionURL_\",value:function(e,t,n,i,r){var o={v:\"5\"};return!Object(_.z)()&&\"undefined\"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(o.r=\"f\"),t&&(o.s=t),n&&(o.ls=n),i&&(o.ac=i),r&&(o.p=r),oe(e,\"websocket\",o)}},{key:\"forceDisallow\",value:function(){t.forceDisallow_=!0}},{key:\"isAvailable\",value:function(){var e=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==fe&&!t.forceDisallow_}},{key:\"previouslyFailed\",value:function(){return I.isInMemoryStorage||!0===I.get(\"previous_websocket_failure\")}}]),t}();ve.responsesRequiredToBeHealthy=2,ve.healthyTimeout=3e4;var _e=function(){function e(t){Object(l.a)(this,e),this.initTransports_(t)}return Object(c.a)(e,[{key:\"initTransports_\",value:function(t){var n=ve&&ve.isAvailable(),i=n&&!ve.previouslyFailed();if(t.webSocketOnly&&(n||q(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),i=!0),i)this.transports_=[ve];else{var r,o=this.transports_=[],s=g(e.ALL_TRANSPORTS);try{for(s.s();!(r=s.n()).done;){var a=r.value;a&&a.isAvailable()&&o.push(a)}}catch(u){s.e(u)}finally{s.f()}e.globalTransportInitialized_=!0}}},{key:\"initialTransport\",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")}},{key:\"upgradeTransport\",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:\"ALL_TRANSPORTS\",get:function(){return[he,ve]}},{key:\"IS_TRANSPORT_INITIALIZED\",get:function(){return this.globalTransportInitialized_}}]),e}();_e.globalTransportInitialized_=!1;var pe=function(){function e(t,n,i,r,o,s,a,u,c,h){Object(l.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=A(\"c:\"+this.id+\":\"),this.transportManager_=new _e(n),this.log_(\"Connection created\"),this.start_()}return Object(c.a)(e,[{key:\"start_\",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,i)}),Math.floor(0));var r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_(\"Connection exceeded healthy timeout but has received \"+e.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_(\"Connection exceeded healthy timeout but has sent \"+e.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(e.log_(\"Closing unhealthy connection after timeout.\"),e.close()))}),Math.floor(r)))}},{key:\"nextTransportId_\",value:function(){return\"c:\"+this.id+\":\"+this.connectionCount++}},{key:\"disconnReceiver_\",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_(\"Secondary connection lost.\"),t.onSecondaryConnectionLost_()):t.log_(\"closing an old connection\")}}},{key:\"connReceiver_\",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_(\"message on old connection\"))}}},{key:\"sendRequest\",value:function(e){var t={t:\"d\",d:e};this.sendData_(t)}},{key:\"tryCleanupConnection\",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:\"onSecondaryControl_\",value:function(e){if(\"t\"in e){var t=e.t;\"a\"===t?this.upgradeIfSecondaryHealthy_():\"r\"===t?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===t&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:\"onSecondaryMessageReceived_\",value:function(e){var t=V(\"t\",e),n=V(\"d\",e);if(\"c\"===t)this.onSecondaryControl_(n);else{if(\"d\"!==t)throw new Error(\"Unknown protocol layer: \"+t);this.pendingDataMessages.push(n)}}},{key:\"upgradeIfSecondaryHealthy_\",value:function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))}},{key:\"proceedWithUpgrade_\",value:function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:\"onPrimaryMessageReceived_\",value:function(e){var t=V(\"t\",e),n=V(\"d\",e);\"c\"===t?this.onControl_(n):\"d\"===t&&this.onDataMessage_(n)}},{key:\"onDataMessage_\",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:\"onPrimaryResponse_\",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:\"onControl_\",value:function(e){var t=V(\"t\",e);if(\"d\"in e){var n=e.d;if(\"h\"===t)this.onHandshake_(n);else if(\"n\"===t){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===t?this.onConnectionShutdown_(n):\"r\"===t?this.onReset_(n):\"e\"===t?F(\"Server Error: \"+n):\"o\"===t?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):F(\"Unknown control packet command: \"+t)}}},{key:\"onHandshake_\",value:function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),\"5\"!==n&&q(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())}},{key:\"tryStartUpgrade_\",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:\"startUpgrade_\",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Z((function(){t.secondaryConn_&&(t.log_(\"Timed out trying to upgrade.\"),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:\"onReset_\",value:function(e){this.log_(\"Reset packet received.  New host: \"+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:\"onConnectionEstablished_\",value:function(e,t){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:\"sendPingOnPrimaryIfNecessary_\",value:function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))}},{key:\"onSecondaryConnectionLost_\",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:\"onConnectionLost_\",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(I.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:\"onConnectionShutdown_\",value:function(e){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:\"sendData_\",value:function(e){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(e)}},{key:\"close\",value:function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:\"closeConnections_\",value:function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),ye=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:\"put\",value:function(e,t,n,i){}},{key:\"merge\",value:function(e,t,n,i){}},{key:\"refreshAuthToken\",value:function(e){}},{key:\"refreshAppCheckToken\",value:function(e){}},{key:\"onDisconnectPut\",value:function(e,t,n){}},{key:\"onDisconnectMerge\",value:function(e,t,n){}},{key:\"onDisconnectCancel\",value:function(e,t){}},{key:\"reportStats\",value:function(e){}}]),e}(),ge=function(){function e(t){Object(l.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(_.e)(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return Object(c.a)(e,[{key:\"trigger\",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(u.a)(this.listeners_[e]),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,i)}}},{key:\"on\",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var i=this.getInitialEvent(e);i&&t.apply(n,i)}},{key:\"off\",value:function(e,t,n){this.validateEventType_(e);for(var i=this.listeners_[e]||[],r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}},{key:\"validateEventType_\",value:function(e){Object(_.e)(this.allowedEvents_.find((function(t){return t===e})),\"Unknown event: \"+e)}}]),e}(),me=function(e){Object(o.a)(n,e);var t=y(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this,[\"online\"])).online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||Object(_.y)()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return Object(c.a)(n,[{key:\"getInitialEvent\",value:function(e){return Object(_.e)(\"online\"===e,\"Unknown event type: \"+e),[this.online_]}},{key:\"currentlyOnline\",value:function(){return this.online_}}],[{key:\"getInstance\",value:function(){return new n}}]),n}(ge),ke=function(){function e(t,n){if(Object(l.a)(this,e),void 0===n){this.pieces_=t.split(\"/\");for(var i=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(c.a)(e,[{key:\"toString\",value:function(){for(var e=\"\",t=this.pieceNum_;t<this.pieces_.length;t++)\"\"!==this.pieces_[t]&&(e+=\"/\"+this.pieces_[t]);return e||\"/\"}}]),e}();function be(){return new ke(\"\")}function Ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function we(e){return e.pieces_.length-e.pieceNum_}function Oe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ke(e.pieces_,t)}function Te(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Se(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ke(t,0)}function je(e,t){for(var n=[],i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ke)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var o=t.split(\"/\"),s=0;s<o.length;s++)o[s].length>0&&n.push(o[s]);return new ke(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function Ne(e,t){var n=Ce(e),i=Ce(t);if(null===n)return t;if(n===i)return Ne(Oe(e),Oe(t));throw new Error(\"INTERNAL ERROR: innerPath (\"+t+\") is not within outerPath (\"+e+\")\")}function Re(e,t){if(we(e)!==we(t))return!1;for(var n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Pe(e,t){var n=e.pieceNum_,i=t.pieceNum_;if(we(e)>we(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var xe=Object(c.a)((function e(t,n){Object(l.a)(this,e),this.errorPrefix_=n,this.parts_=Ie(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=Object(_.H)(this.parts_[i]);De(this)}));function De(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+\"has a key path longer than 768 bytes (\"+e.byteLength_+\").\");if(e.parts_.length>32)throw new Error(e.errorPrefix_+\"path specified exceeds the maximum depth that can be written (32) or object contains a cycle \"+Me(e))}function Me(e){return 0===e.parts_.length?\"\":\"in property '\"+e.parts_.join(\".\")+\"'\"}var Ae=function(e){Object(o.a)(n,e);var t=y(n);function n(){var e,i,r;return Object(l.a)(this,n),e=t.call(this,[\"visible\"]),\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r=\"visibilitychange\",i=\"hidden\"):void 0!==document.mozHidden?(r=\"mozvisibilitychange\",i=\"mozHidden\"):void 0!==document.msHidden?(r=\"msvisibilitychange\",i=\"msHidden\"):void 0!==document.webkitHidden&&(r=\"webkitvisibilitychange\",i=\"webkitHidden\")),e.visible_=!0,r&&document.addEventListener(r,(function(){var t=!document[i];t!==e.visible_&&(e.visible_=t,e.trigger(\"visible\",t))}),!1),e}return Object(c.a)(n,[{key:\"getInitialEvent\",value:function(e){return Object(_.e)(\"visible\"===e,\"Unknown event type: \"+e),[this.visible_]}}],[{key:\"getInstance\",value:function(){return new n}}]),n}(ge),Fe=function(e){Object(o.a)(a,e);var n,s=y(a);function a(e,t,n,i,o,u,c,h){var d;if(Object(l.a)(this,a),(d=s.call(this)).repoInfo_=e,d.applicationId_=t,d.onDataUpdate_=n,d.onConnectStatus_=i,d.onServerInfoUpdate_=o,d.authTokenProvider_=u,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=a.nextPersistentConnectionId_++,d.log_=A(\"p:\"+d.id+\":\"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=1e3,d.maxReconnectDelay_=3e5,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!Object(_.z)())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return Ae.getInstance().on(\"visible\",d.onVisible_,Object(r.a)(d)),-1===e.host.indexOf(\"fblocal\")&&me.getInstance().on(\"online\",d.onOnline_,Object(r.a)(d)),d}return Object(c.a)(a,[{key:\"sendRequest\",value:function(e,t,n){var i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Object(_.J)(r)),Object(_.e)(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}},{key:\"get\",value:function(e){this.initConnection_();var t=new _.a,n={action:\"g\",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;\"ok\"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}},{key:\"listen\",value:function(e,t,n,i){this.initConnection_();var r=e._queryIdentifier,o=e._path.toString();this.log_(\"Listen called for \"+o+\" \"+r),this.listens.has(o)||this.listens.set(o,new Map),Object(_.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),\"listen() called for non-default but complete query\"),Object(_.e)(!this.listens.get(o).has(r),\"listen() called twice for same path/queryId.\");var s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}},{key:\"sendGet_\",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest(\"g\",n.request,(function(i){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(i)}))}},{key:\"sendListen_\",value:function(e){var t=this,n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_(\"Listen on \"+i+\" for \"+r);var o={p:i};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(\"q\",o,(function(o){var s=o.d,u=o.s;a.warnOnListenWarnings_(s,n),(t.listens.get(i)&&t.listens.get(i).get(r))===e&&(t.log_(\"listen response\",o),\"ok\"!==u&&t.removeListen_(i,r),e.onComplete&&e.onComplete(u,s))}))}},{key:\"refreshAuthToken\",value:function(e){this.authToken_=e,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:\"reduceReconnectDelayIfAdminCredential_\",value:function(e){(e&&40===e.length||Object(_.t)(e))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)}},{key:\"refreshAppCheckToken\",value:function(e){this.appCheckToken_=e,this.log_(\"App check token refreshed\"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest(\"unappeck\",{},(function(){}))}},{key:\"tryAuth\",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(_.B)(t)?\"auth\":\"gauth\",i={cred:t};null===this.authOverride_?i.noauth=!0:\"object\"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||\"error\";e.authToken_===t&&(\"ok\"===i?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(i,r))}))}}},{key:\"tryAppCheck\",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest(\"appcheck\",{token:this.appCheckToken_},(function(t){var n=t.s,i=t.d||\"error\";\"ok\"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,i)}))}},{key:\"unlisten\",value:function(e,t){var n=e._path.toString(),i=e._queryIdentifier;this.log_(\"Unlisten called for \"+n+\" \"+i),Object(_.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}},{key:\"sendUnlisten_\",value:function(e,t,n,i){this.log_(\"Unlisten on \"+e+\" for \"+t);var r={p:e};i&&(r.q=n,r.t=i),this.sendRequest(\"n\",r)}},{key:\"onDisconnectPut\",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"o\",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:\"o\",data:t,onComplete:n})}},{key:\"onDisconnectMerge\",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"om\",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:\"om\",data:t,onComplete:n})}},{key:\"onDisconnectCancel\",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"oc\",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:\"oc\",data:null,onComplete:t})}},{key:\"sendOnDisconnect_\",value:function(e,t,n,i){var r={p:t,d:n};this.log_(\"onDisconnect \"+e,r),this.sendRequest(e,r,(function(e){i&&setTimeout((function(){i(e.s,e.d)}),Math.floor(0))}))}},{key:\"put\",value:function(e,t,n,i){this.putInternal(\"p\",e,t,n,i)}},{key:\"merge\",value:function(e,t,n,i){this.putInternal(\"m\",e,t,n,i)}},{key:\"putInternal\",value:function(e,t,n,i,r){this.initConnection_();var o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+t)}},{key:\"sendPut_\",value:function(e){var t=this,n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,(function(i){t.log_(n+\" response\",i),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(i.s,i.d)}))}},{key:\"reportStats\",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(e){if(\"ok\"!==e.s){var n=e.d;t.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}}},{key:\"onDataMessage_\",value:function(e){if(\"r\"in e){this.log_(\"from server: \"+Object(_.J)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if(\"error\"in e)throw\"A server-side error has occurred: \"+e.error;\"a\"in e&&this.onDataPush_(e.a,e.b)}}},{key:\"onDataPush_\",value:function(e,t){this.log_(\"handleServerMessage\",e,t),\"d\"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):\"m\"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):\"c\"===e?this.onListenRevoked_(t.p,t.q):\"ac\"===e?this.onAuthRevoked_(t.s,t.d):\"apc\"===e?this.onAppCheckRevoked_(t.s,t.d):\"sd\"===e?this.onSecurityDebugPacket_(t):F(\"Unrecognized action received from server: \"+Object(_.J)(e)+\"\\nAre you using the latest client?\")}},{key:\"onReady_\",value:function(e,t){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:\"scheduleConnect_\",value:function(e){var t=this;Object(_.e)(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:\"initConnection_\",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:\"onVisible_\",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:\"onOnline_\",value:function(e){e?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())}},{key:\"onRealtimeDisconnect_\",value:function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_(\"Trying to reconnect in \"+t+\"ms\"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:\"establishConnection_\",value:(n=Object(i.a)(d.a.mark((function e(){var n,i,r,o,s,u,l,c,h,f,v,p,y,g,m=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+\":\"+a.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())},h=function(e){Object(_.e)(l,\"sendRequest call when we're not connected not allowed.\"),l.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:v=e.sent,p=Object(t.a)(v,2),y=p[0],g=p[1],u?M(\"getToken() completed but was canceled\"):(M(\"getToken() completed. Creating connection.\"),this.authToken_=y&&y.accessToken,this.appCheckToken_=g&&g.token,l=new pe(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,(function(e){q(e+\" (\"+m.repoInfo_.toString()+\")\"),m.interrupt(\"server_kill\")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_(\"Failed to get token: \"+e.t0),u||(this.repoInfo_.nodeAdmin&&q(e.t0),c());case 30:case\"end\":return e.stop()}}),e,this,[[16,26]])}))),function(){return n.apply(this,arguments)})},{key:\"interrupt\",value:function(e){M(\"Interrupting connection for reason: \"+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:\"resume\",value:function(e){M(\"Resuming connection for reason: \"+e),delete this.interruptReasons_[e],Object(_.v)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}},{key:\"handleTimestamp_\",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:\"cancelSentTransactions_\",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&\"h\"in t.request&&t.queued&&(t.onComplete&&t.onComplete(\"disconnect\"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:\"onListenRevoked_\",value:function(e,t){var n;n=t?t.map((function(e){return K(e)})).join(\"$\"):\"default\";var i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete(\"permission_denied\")}},{key:\"removeListen_\",value:function(e,t){var n,i=new ke(e).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(t),r.delete(t),0===r.size&&this.listens.delete(i)}else n=void 0;return n}},{key:\"onAuthRevoked_\",value:function(e,t){M(\"Auth token revoked: \"+e+\"/\"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==e&&\"permission_denied\"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:\"onAppCheckRevoked_\",value:function(e,t){M(\"App check token revoked: \"+e+\"/\"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,\"invalid_token\"!==e&&\"permission_denied\"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:\"onSecurityDebugPacket_\",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):\"msg\"in e&&console.log(\"FIREBASE: \"+e.msg.replace(\"\\n\",\"\\nFIREBASE: \"))}},{key:\"restoreState_\",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=g(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,i=g(e.value.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;this.sendListen_(r)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){t.e(u)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}},{key:\"sendConnectStats_\",value:function(){var e={},t=\"js\";Object(_.z)()&&(t=this.repoInfo_.nodeAdmin?\"admin_node\":\"node\"),e[\"sdk.\"+t+\".\"+b.replace(/\\./g,\"-\")]=1,Object(_.y)()?e[\"framework.cordova\"]=1:Object(_.A)()&&(e[\"framework.reactnative\"]=1),this.reportStats(e)}},{key:\"shouldReconnect_\",value:function(){var e=me.getInstance().currentlyOnline();return Object(_.v)(this.interruptReasons_)&&e}}],[{key:\"warnOnListenWarnings_\",value:function(e,t){if(e&&\"object\"==typeof e&&Object(_.k)(e,\"w\")){var n=Object(_.G)(e,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var i='\".indexOn\": \"'+t._queryParams.getIndex().toString()+'\"',r=t._path.toString();q(\"Using an unspecified index. Your data will be downloaded and \"+\"filtered on the client. Consider adding \".concat(i,\" at \")+\"\".concat(r,\" to your security rules for better performance.\"))}}}}]),a}(ye);Fe.nextPersistentConnectionId_=0,Fe.nextConnectionId_=0;var Le,qe=function(){function e(t,n){Object(l.a)(this,e),this.name=t,this.node=n}return Object(c.a)(e,null,[{key:\"Wrap\",value:function(t,n){return new e(t,n)}}]),e}(),We=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:\"getCompare\",value:function(){return this.compare.bind(this)}},{key:\"indexedValueChanged\",value:function(e,t){var n=new qe(U,e),i=new qe(U,t);return 0!==this.compare(n,i)}},{key:\"minPost\",value:function(){return qe.MIN}}]),e}(),Ue=function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:\"compare\",value:function(e,t){return z(e.name,t.name)}},{key:\"isDefinedOn\",value:function(e){throw Object(_.f)(\"KeyIndex.isDefinedOn not expected to be called.\")}},{key:\"indexedValueChanged\",value:function(e,t){return!1}},{key:\"minPost\",value:function(){return qe.MIN}},{key:\"maxPost\",value:function(){return new qe(H,Le)}},{key:\"makePost\",value:function(e,t){return Object(_.e)(\"string\"==typeof e,\"KeyIndex indexValue must always be a string.\"),new qe(e,Le)}},{key:\"toString\",value:function(){return\".key\"}}],[{key:\"__EMPTY_NODE\",get:function(){return Le},set:function(e){Le=e}}]),n}(We),He=new Ue,ze=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(l.a)(this,e),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(c.a)(e,[{key:\"getNext\",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:\"hasNext\",value:function(){return this.nodeStack_.length>0}},{key:\"peek\",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Be=function(){function e(t,n,i,r,o){Object(l.a)(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return Object(c.a)(e,[{key:\"copy\",value:function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}},{key:\"count\",value:function(){return this.left.count()+1+this.right.count()}},{key:\"isEmpty\",value:function(){return!1}},{key:\"inorderTraversal\",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:\"reverseTraversal\",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:\"min_\",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:\"minKey\",value:function(){return this.min_().key}},{key:\"maxKey\",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:\"insert\",value:function(e,t,n){var i=this,r=n(e,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()}},{key:\"removeMin_\",value:function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:\"remove\",value:function(e,t){var n,i;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:\"isRed_\",value:function(){return this.color}},{key:\"fixUp_\",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:\"moveRedLeft_\",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:\"moveRedRight_\",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:\"rotateLeft_\",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:\"rotateRight_\",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:\"colorFlip_\",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:\"checkMaxDepth_\",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:\"check_\",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var e=this.left.check_();if(e!==this.right.check_())throw new Error(\"Black depths differ\");return e+(this.isRed_()?0:1)}}]),e}();Be.RED=!0,Be.BLACK=!1;var Ve,Ke=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:\"copy\",value:function(e,t,n,i,r){return this}},{key:\"insert\",value:function(e,t,n){return new Be(e,t,null)}},{key:\"remove\",value:function(e,t){return this}},{key:\"count\",value:function(){return 0}},{key:\"isEmpty\",value:function(){return!0}},{key:\"inorderTraversal\",value:function(e){return!1}},{key:\"reverseTraversal\",value:function(e){return!1}},{key:\"minKey\",value:function(){return null}},{key:\"maxKey\",value:function(){return null}},{key:\"check_\",value:function(){return 0}},{key:\"isRed_\",value:function(){return!1}}]),e}(),Ye=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(l.a)(this,e),this.comparator_=t,this.root_=n}return Object(c.a)(e,[{key:\"insert\",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Be.BLACK,null,null))}},{key:\"remove\",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Be.BLACK,null,null))}},{key:\"get\",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:\"getPredecessorKey\",value:function(e){for(var t,n=this.root_,i=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")}},{key:\"isEmpty\",value:function(){return this.root_.isEmpty()}},{key:\"count\",value:function(){return this.root_.count()}},{key:\"minKey\",value:function(){return this.root_.minKey()}},{key:\"maxKey\",value:function(){return this.root_.maxKey()}},{key:\"inorderTraversal\",value:function(e){return this.root_.inorderTraversal(e)}},{key:\"reverseTraversal\",value:function(e){return this.root_.reverseTraversal(e)}},{key:\"getIterator\",value:function(e){return new ze(this.root_,null,this.comparator_,!1,e)}},{key:\"getIteratorFrom\",value:function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)}},{key:\"getReverseIteratorFrom\",value:function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)}},{key:\"getReverseIterator\",value:function(e){return new ze(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ge(e,t){return z(e.name,t.name)}function Qe(e,t){return z(e,t)}Ye.EMPTY_NODE=new Ke;var Je,$e,Xe,Ze=function(e){return\"number\"==typeof e?\"number:\"+Q(e):\"string:\"+e},et=function(e){if(e.isLeafNode()){var t=e.val();Object(_.e)(\"string\"==typeof t||\"number\"==typeof t||\"object\"==typeof t&&Object(_.k)(t,\".sv\"),\"Priority must be a string or number.\")}else Object(_.e)(e===Ve||e.isEmpty(),\"priority of unexpected type.\");Object(_.e)(e===Ve||e.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},tt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(l.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(_.e)(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),et(this.priorityNode_)}return Object(c.a)(e,[{key:\"isLeafNode\",value:function(){return!0}},{key:\"getPriority\",value:function(){return this.priorityNode_}},{key:\"updatePriority\",value:function(t){return new e(this.value_,t)}},{key:\"getImmediateChild\",value:function(t){return\".priority\"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:\"getChild\",value:function(t){return Ee(t)?this:\".priority\"===Ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:\"hasChild\",value:function(){return!1}},{key:\"getPredecessorChildName\",value:function(e,t){return null}},{key:\"updateImmediateChild\",value:function(t,n){return\".priority\"===t?this.updatePriority(n):n.isEmpty()&&\".priority\"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:\"updateChild\",value:function(t,n){var i=Ce(t);return null===i?n:n.isEmpty()&&\".priority\"!==i?this:(Object(_.e)(\".priority\"!==i||1===we(t),\".priority must be the last token in a path\"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(t),n)))}},{key:\"isEmpty\",value:function(){return!1}},{key:\"numChildren\",value:function(){return 0}},{key:\"forEachChild\",value:function(e,t){return!1}},{key:\"val\",value:function(e){return e&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()}},{key:\"hash\",value:function(){if(null===this.lazyHash_){var e=\"\";this.priorityNode_.isEmpty()||(e+=\"priority:\"+Ze(this.priorityNode_.val())+\":\");var t=typeof this.value_;e+=t+\":\",e+=\"number\"===t?Q(this.value_):this.value_,this.lazyHash_=N(e)}return this.lazyHash_}},{key:\"getValue\",value:function(){return this.value_}},{key:\"compareTo\",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(_.e)(t.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(t))}},{key:\"compareToLeafNode_\",value:function(t){var n=typeof t.value_,i=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(i);return Object(_.e)(r>=0,\"Unknown leaf type: \"+n),Object(_.e)(o>=0,\"Unknown leaf type: \"+i),r===o?\"object\"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r}},{key:\"withIndex\",value:function(){return this}},{key:\"isIndexed\",value:function(){return!0}},{key:\"equals\",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:\"__childrenNodeConstructor\",get:function(){return Je},set:function(e){Je=e}}]),e}();tt.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"];var nt,it,rt=new(function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:\"compare\",value:function(e,t){var n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?z(e.name,t.name):r}},{key:\"isDefinedOn\",value:function(e){return!e.getPriority().isEmpty()}},{key:\"indexedValueChanged\",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:\"minPost\",value:function(){return qe.MIN}},{key:\"maxPost\",value:function(){return new qe(H,new tt(\"[PRIORITY-POST]\",Xe))}},{key:\"makePost\",value:function(e,t){var n=$e(e);return new qe(t,new tt(\"[PRIORITY-POST]\",n))}},{key:\"toString\",value:function(){return\".priority\"}}]),n}(We)),ot=Math.log(2),st=function(){function e(t){Object(l.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ot,10)),this.current_=this.count-1;var i,r=(i=this.count,parseInt(Array(i+1).join(\"1\"),2));this.bits_=t+1&r}return Object(c.a)(e,[{key:\"nextBitIsOne\",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),at=function(e,t,n,i){e.sort(t);var r=function(t){for(var i=null,r=null,o=e.length,s=function(t,i){var r=o-t,s=o;o-=t;var u=function t(i,r){var o,s,a=r-i;if(0===a)return null;if(1===a)return o=e[i],s=n?n(o):o,new Be(s,o.node,Be.BLACK,null,null);var u=parseInt(a/2,10)+i,l=t(i,u),c=t(u+1,r);return o=e[u],s=n?n(o):o,new Be(s,o.node,Be.BLACK,l,c)}(r+1,s),l=e[r],c=n?n(l):l;a(new Be(c,l.node,i,null,u))},a=function(e){i?(i.left=e,i=e):(r=e,i=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),c=Math.pow(2,t.count-(u+1));l?s(c,Be.BLACK):(s(c,Be.BLACK),s(c,Be.RED))}return r}(new st(e.length));return new Ye(i||t,r)},ut={},lt=function(){function e(t,n){Object(l.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(c.a)(e,[{key:\"get\",value:function(e){var t=Object(_.G)(this.indexes_,e);if(!t)throw new Error(\"No index defined for \"+e);return t instanceof Ye?t:null}},{key:\"hasIndex\",value:function(e){return Object(_.k)(this.indexSet_,e.toString())}},{key:\"addIndex\",value:function(t,n){Object(_.e)(t!==He,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var i,r=[],o=!1,s=n.getIterator(qe.Wrap),a=s.getNext();a;)o=o||t.isDefinedOn(a.node),r.push(a),a=s.getNext();i=o?at(r,t.getCompare()):ut;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=i,new e(c,l)}},{key:\"addToIndexes\",value:function(t,n){var i=this;return new e(Object(_.D)(this.indexes_,(function(e,r){var o=Object(_.G)(i.indexSet_,r);if(Object(_.e)(o,\"Missing index implementation for \"+r),e===ut){if(o.isDefinedOn(t.node)){for(var s=[],a=n.getIterator(qe.Wrap),u=a.getNext();u;)u.name!==t.name&&s.push(u),u=a.getNext();return s.push(t),at(s,o.getCompare())}return ut}var l=n.get(t.name),c=e;return l&&(c=c.remove(new qe(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:\"removeFromIndexes\",value:function(t,n){return new e(Object(_.D)(this.indexes_,(function(e){if(e===ut)return e;var i=n.get(t.name);return i?e.remove(new qe(t.name,i)):e})),this.indexSet_)}}],[{key:\"Default\",get:function(){return Object(_.e)(ut&&rt,\"ChildrenNode.ts has not been loaded\"),nt=nt||new e({\".priority\":ut},{\".priority\":rt})}}]),e}(),ct=function(){function e(t,n,i){Object(l.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&et(this.priorityNode_),this.children_.isEmpty()&&Object(_.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object(c.a)(e,[{key:\"isLeafNode\",value:function(){return!1}},{key:\"getPriority\",value:function(){return this.priorityNode_||it}},{key:\"updatePriority\",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:\"getImmediateChild\",value:function(e){if(\".priority\"===e)return this.getPriority();var t=this.children_.get(e);return null===t?it:t}},{key:\"getChild\",value:function(e){var t=Ce(e);return null===t?this:this.getImmediateChild(t).getChild(Oe(e))}},{key:\"hasChild\",value:function(e){return null!==this.children_.get(e)}},{key:\"updateImmediateChild\",value:function(t,n){if(Object(_.e)(n,\"We should always be passing snapshot nodes\"),\".priority\"===t)return this.updatePriority(n);var i,r,o=new qe(t,n);n.isEmpty()?(i=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(o,this.children_)):(i=this.children_.insert(t,n),r=this.indexMap_.addToIndexes(o,this.children_));var s=i.isEmpty()?it:this.priorityNode_;return new e(i,s,r)}},{key:\"updateChild\",value:function(e,t){var n=Ce(e);if(null===n)return t;Object(_.e)(\".priority\"!==Ce(e)||1===we(e),\".priority must be the last token in a path\");var i=this.getImmediateChild(n).updateChild(Oe(e),t);return this.updateImmediateChild(n,i)}},{key:\"isEmpty\",value:function(){return this.children_.isEmpty()}},{key:\"numChildren\",value:function(){return this.children_.count()}},{key:\"val\",value:function(t){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(rt,(function(s,a){n[s]=a.val(t),i++,o&&e.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1})),!t&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n}},{key:\"hash\",value:function(){if(null===this.lazyHash_){var e=\"\";this.getPriority().isEmpty()||(e+=\"priority:\"+Ze(this.getPriority().val())+\":\"),this.forEachChild(rt,(function(t,n){var i=n.hash();\"\"!==i&&(e+=\":\"+t+\":\"+i)})),this.lazyHash_=\"\"===e?\"\":N(e)}return this.lazyHash_}},{key:\"getPredecessorChildName\",value:function(e,t,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new qe(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)}},{key:\"getFirstChildName\",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:\"getFirstChild\",value:function(e){var t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}},{key:\"getLastChildName\",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:\"getLastChild\",value:function(e){var t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}},{key:\"forEachChild\",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:\"getIterator\",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:\"getIteratorFrom\",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var i=this.children_.getIteratorFrom(e.name,qe.Wrap),r=i.peek();null!=r&&t.compare(r,e)<0;)i.getNext(),r=i.peek();return i}},{key:\"getReverseIterator\",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:\"getReverseIteratorFrom\",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap),r=i.peek();null!=r&&t.compare(r,e)>0;)i.getNext(),r=i.peek();return i}},{key:\"compareTo\",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ht?-1:0}},{key:\"withIndex\",value:function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:\"isIndexed\",value:function(e){return e===He||this.indexMap_.hasIndex(e)}},{key:\"equals\",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rt),i=t.getIterator(rt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1}},{key:\"resolveIndex_\",value:function(e){return e===He?null:this.indexMap_.get(e.toString())}}],[{key:\"EMPTY_NODE\",get:function(){return it||(it=new e(new Ye(Qe),null,lt.Default))}}]),e}();ct.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/;var ht=new(function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(l.a)(this,n),t.call(this,new Ye(Qe),ct.EMPTY_NODE,lt.Default)}return Object(c.a)(n,[{key:\"compareTo\",value:function(e){return e===this?0:1}},{key:\"equals\",value:function(e){return e===this}},{key:\"getPriority\",value:function(){return this}},{key:\"getImmediateChild\",value:function(e){return ct.EMPTY_NODE}},{key:\"isEmpty\",value:function(){return!1}}]),n}(ct));Object.defineProperties(qe,{MIN:{value:new qe(U,ct.EMPTY_NODE)},MAX:{value:new qe(H,ht)}}),Ue.__EMPTY_NODE=ct.EMPTY_NODE,tt.__childrenNodeConstructor=ct,Ve=ht,function(e){Xe=e}(ht);function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ct.EMPTY_NODE;if(\"object\"==typeof e&&\".priority\"in e&&(t=e[\".priority\"]),Object(_.e)(null===t||\"string\"==typeof t||\"number\"==typeof t||\"object\"==typeof t&&\".sv\"in t,\"Invalid priority type found: \"+typeof t),\"object\"==typeof e&&\".value\"in e&&null!==e[\".value\"]&&(e=e[\".value\"]),\"object\"!=typeof e||\".sv\"in e){var n=e;return new tt(n,dt(t))}if(e instanceof Array){var i=ct.EMPTY_NODE;return G(e,(function(t,n){if(Object(_.k)(e,t)&&\".\"!==t.substring(0,1)){var r=dt(n);!r.isLeafNode()&&r.isEmpty()||(i=i.updateImmediateChild(t,r))}})),i.updatePriority(dt(t))}var r=[],o=!1,s=e;if(G(s,(function(e,t){if(\".\"!==e.substring(0,1)){var n=dt(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new qe(e,n)))}})),0===r.length)return ct.EMPTY_NODE;var a=at(r,Ge,(function(e){return e.name}),Qe);if(o){var u=at(r,rt.getCompare());return new ct(a,dt(t),new lt({\".priority\":u},{\".priority\":rt}))}return new ct(a,dt(t),lt.Default)}!function(e){$e=e}(dt);var ft,vt,_t=function(e){Object(o.a)(n,e);var t=y(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this)).indexPath_=e,Object(_.e)(!Ee(e)&&\".priority\"!==Ce(e),\"Can't create PathIndex with empty path or .priority key\"),i}return Object(c.a)(n,[{key:\"extractChild\",value:function(e){return e.getChild(this.indexPath_)}},{key:\"isDefinedOn\",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:\"compare\",value:function(e,t){var n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?z(e.name,t.name):r}},{key:\"makePost\",value:function(e,t){var n=dt(e),i=ct.EMPTY_NODE.updateChild(this.indexPath_,n);return new qe(t,i)}},{key:\"maxPost\",value:function(){var e=ct.EMPTY_NODE.updateChild(this.indexPath_,ht);return new qe(H,e)}},{key:\"toString\",value:function(){return Ie(this.indexPath_,0).join(\"/\")}}]),n}(We),pt=new(function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:\"compare\",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?z(e.name,t.name):n}},{key:\"isDefinedOn\",value:function(e){return!0}},{key:\"indexedValueChanged\",value:function(e,t){return!e.equals(t)}},{key:\"minPost\",value:function(){return qe.MIN}},{key:\"maxPost\",value:function(){return qe.MAX}},{key:\"makePost\",value:function(e,t){var n=dt(e);return new qe(t,n)}},{key:\"toString\",value:function(){return\".value\"}}]),n}(We)),yt=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\";ft=0,vt=[];function gt(e){return{type:\"value\",snapshotNode:e}}function mt(e,t){return{type:\"child_added\",snapshotNode:t,childName:e}}function kt(e,t){return{type:\"child_removed\",snapshotNode:t,childName:e}}function bt(e,t,n){return{type:\"child_changed\",snapshotNode:t,childName:e,oldSnap:n}}var Ct=function(){function e(){Object(l.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=rt}return Object(c.a)(e,[{key:\"hasStart\",value:function(){return this.startSet_}},{key:\"hasStartAfter\",value:function(){return this.startAfterSet_}},{key:\"hasEndBefore\",value:function(){return this.endBeforeSet_}},{key:\"isViewFromLeft\",value:function(){return\"\"===this.viewFrom_?this.startSet_:\"l\"===this.viewFrom_}},{key:\"getIndexStartValue\",value:function(){return Object(_.e)(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_}},{key:\"getIndexStartName\",value:function(){return Object(_.e)(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:U}},{key:\"hasEnd\",value:function(){return this.endSet_}},{key:\"getIndexEndValue\",value:function(){return Object(_.e)(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_}},{key:\"getIndexEndName\",value:function(){return Object(_.e)(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:H}},{key:\"hasLimit\",value:function(){return this.limitSet_}},{key:\"hasAnchoredLimit\",value:function(){return this.limitSet_&&\"\"!==this.viewFrom_}},{key:\"getLimit\",value:function(){return Object(_.e)(this.limitSet_,\"Only valid if limit has been set\"),this.limit_}},{key:\"getIndex\",value:function(){return this.index_}},{key:\"loadsAllData\",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:\"isDefault\",value:function(){return this.loadsAllData()&&this.index_===rt}},{key:\"copy\",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function wt(e){var t,n={};return e.isDefault()||(e.index_===rt?t=\"$priority\":e.index_===pt?t=\"$value\":e.index_===He?t=\"$key\":(Object(_.e)(e.index_ instanceof _t,\"Unrecognized index type!\"),t=e.index_.toString()),n.orderBy=Object(_.J)(t),e.startSet_&&(n.startAt=Object(_.J)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=\",\"+Object(_.J)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(_.J)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=\",\"+Object(_.J)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ot(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;\"\"===n&&(n=e.isViewFromLeft()?\"l\":\"r\"),t.vf=n}return e.index_!==rt&&(t.i=e.index_.toString()),t}var Tt=function(e){Object(o.a)(i,e);var n=y(i);function i(e,t,r,o){var s;return Object(l.a)(this,i),(s=n.call(this)).repoInfo_=e,s.onDataUpdate_=t,s.authTokenProvider_=r,s.appCheckTokenProvider_=o,s.log_=A(\"p:rest:\"),s.listens_={},s}return Object(c.a)(i,[{key:\"reportStats\",value:function(e){throw new Error(\"Method not implemented.\")}},{key:\"listen\",value:function(e,t,n,r){var o=this,s=e._path.toString();this.log_(\"Listen called for \"+s+\" \"+e._queryIdentifier);var a=i.getListenId_(e,n),u={};this.listens_[a]=u;var l=wt(e._queryParams);this.restRequest_(s+\".json\",l,(function(e,t){var i=t;(404===e&&(i=null,e=null),null===e&&o.onDataUpdate_(s,i,!1,n),Object(_.G)(o.listens_,a)===u)&&r(e?401===e?\"permission_denied\":\"rest_error:\"+e:\"ok\",null)}))}},{key:\"unlisten\",value:function(e,t){var n=i.getListenId_(e,t);delete this.listens_[n]}},{key:\"get\",value:function(e){var t=this,n=wt(e._queryParams),i=e._path.toString(),r=new _.a;return this.restRequest_(i+\".json\",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))})),r.promise}},{key:\"refreshAuthToken\",value:function(e){}},{key:\"restRequest_\",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return i.format=\"export\",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(o){var s=Object(t.a)(o,2),a=s[0],u=s[1];a&&a.accessToken&&(i.auth=a.accessToken),u&&u.token&&(i.ac=u.token);var l=(n.repoInfo_.secure?\"https://\":\"http://\")+n.repoInfo_.host+e+\"?ns=\"+n.repoInfo_.namespace+Object(_.E)(i);n.log_(\"Sending REST request for \"+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){n.log_(\"REST Response for \"+l+\" received. status:\",c.status,\"response:\",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Object(_.C)(c.responseText)}catch(t){q(\"Failed to parse JSON response for \"+l+\": \"+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&q(\"Got unsuccessful REST response for \"+l+\" Status: \"+c.status),r(c.status);r=null}},c.open(\"GET\",l,!0),c.send()}))}}],[{key:\"getListenId_\",value:function(e,t){return void 0!==t?\"tag$\"+t:(Object(_.e)(e._queryParams.isDefault(),\"should have a tag if it's not a default query.\"),e._path.toString())}}]),i}(ye),It=function(){function e(){Object(l.a)(this,e),this.rootNode_=ct.EMPTY_NODE}return Object(c.a)(e,[{key:\"getNode\",value:function(e){return this.rootNode_.getChild(e)}},{key:\"updateSnapshot\",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function St(){return{value:null,children:new Map}}function jt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var i=Ce(t);e.children.has(i)||e.children.set(i,St()),jt(e.children.get(i),t=Oe(t),n)}}function Et(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,i){Et(i,new ke(t.toString()+\"/\"+e),n)}))}var Nt,Rt=function(){function e(t){Object(l.a)(this,e),this.collection_=t,this.last_=null}return Object(c.a)(e,[{key:\"get\",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&G(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Pt=function(){function e(t,n){Object(l.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Rt(t);var i=1e4+2e4*Math.random();Z(this.reportStats_.bind(this),Math.floor(i))}return Object(c.a)(e,[{key:\"reportStats_\",value:function(){var e=this,t=this.statsListener_.get(),n={},i=!1;G(t,(function(t,r){r>0&&Object(_.k)(e.statsToReport_,t)&&(n[t]=r,i=!0)})),i&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function xt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]=\"OVERWRITE\",e[e.MERGE=1]=\"MERGE\",e[e.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",e[e.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(Nt||(Nt={}));var Dt,Mt=function(){function e(t,n,i){Object(l.a)(this,e),this.path=t,this.affectedTree=n,this.revert=i,this.type=Nt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(c.a)(e,[{key:\"operationForChild\",value:function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return Object(_.e)(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new ke(t));return new e(be(),n,this.revert)}return Object(_.e)(Ce(this.path)===t,\"operationForChild called for unrelated child.\"),new e(Oe(this.path),this.affectedTree,this.revert)}}]),e}(),At=function(){function e(t,n,i){Object(l.a)(this,e),this.source=t,this.path=n,this.snap=i,this.type=Nt.OVERWRITE}return Object(c.a)(e,[{key:\"operationForChild\",value:function(t){return Ee(this.path)?new e(this.source,be(),this.snap.getImmediateChild(t)):new e(this.source,Oe(this.path),this.snap)}}]),e}(),Ft=function(){function e(t,n,i){Object(l.a)(this,e),this.source=t,this.path=n,this.children=i,this.type=Nt.MERGE}return Object(c.a)(e,[{key:\"operationForChild\",value:function(t){if(Ee(this.path)){var n=this.children.subtree(new ke(t));return n.isEmpty()?null:n.value?new At(this.source,be(),n.value):new e(this.source,be(),n)}return Object(_.e)(Ce(this.path)===t,\"Can't get a merge for a child not on the path of the operation\"),new e(this.source,Oe(this.path),this.children)}},{key:\"toString\",value:function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"}}]),e}(),Lt=function(){function e(t,n,i){Object(l.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=i}return Object(c.a)(e,[{key:\"isFullyInitialized\",value:function(){return this.fullyInitialized_}},{key:\"isFiltered\",value:function(){return this.filtered_}},{key:\"isCompleteForPath\",value:function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ce(e);return this.isCompleteForChild(t)}},{key:\"isCompleteForChild\",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:\"getNode\",value:function(){return this.node_}}]),e}();function qt(e,t,n,i,r,o){var s=i.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(_.f)(\"Should only compare child_ events.\");var i=new qe(t.childName,t.snapshotNode),r=new qe(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n)})),s.forEach((function(n){var i=function(e,t,n){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);r.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function Wt(e,t){return{eventCache:e,serverCache:t}}function Ut(e,t,n,i){return Wt(new Lt(t,n,i),e.serverCache)}function Ht(e,t,n,i){return Wt(e.eventCache,new Lt(t,n,i))}function zt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Bt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Vt=function(){return Dt||(Dt=new Ye(B)),Dt},Kt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt();Object(l.a)(this,e),this.value=t,this.children=n}return Object(c.a)(e,[{key:\"isEmpty\",value:function(){return null===this.value&&this.children.isEmpty()}},{key:\"findRootMostMatchingPathAndValue\",value:function(e,t){if(null!=this.value&&t(this.value))return{path:be(),value:this.value};if(Ee(e))return null;var n=Ce(e),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(Oe(e),t);return null!=r?{path:je(new ke(n),r.path),value:r.value}:null}return null}},{key:\"findRootMostValueAndPath\",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:\"subtree\",value:function(t){if(Ee(t))return this;var n=Ce(t),i=this.children.get(n);return null!==i?i.subtree(Oe(t)):new e(null)}},{key:\"set\",value:function(t,n){if(Ee(t))return new e(n,this.children);var i=Ce(t),r=(this.children.get(i)||new e(null)).set(Oe(t),n),o=this.children.insert(i,r);return new e(this.value,o)}},{key:\"remove\",value:function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ce(t),i=this.children.get(n);if(i){var r,o=i.remove(Oe(t));return r=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&r.isEmpty()?new e(null):new e(this.value,r)}return this}},{key:\"get\",value:function(e){if(Ee(e))return this.value;var t=Ce(e),n=this.children.get(t);return n?n.get(Oe(e)):null}},{key:\"setTree\",value:function(t,n){if(Ee(t))return n;var i,r=Ce(t),o=(this.children.get(r)||new e(null)).setTree(Oe(t),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,i)}},{key:\"fold\",value:function(e){return this.fold_(be(),e)}},{key:\"fold_\",value:function(e,t){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(je(e,i),t)})),t(e,this.value,n)}},{key:\"findOnPath\",value:function(e,t){return this.findOnPath_(e,be(),t)}},{key:\"findOnPath_\",value:function(e,t,n){var i=!!this.value&&n(t,this.value);if(i)return i;if(Ee(e))return null;var r=Ce(e),o=this.children.get(r);return o?o.findOnPath_(Oe(e),je(t,r),n):null}},{key:\"foreachOnPath\",value:function(e,t){return this.foreachOnPath_(e,be(),t)}},{key:\"foreachOnPath_\",value:function(t,n,i){if(Ee(t))return this;this.value&&i(n,this.value);var r=Ce(t),o=this.children.get(r);return o?o.foreachOnPath_(Oe(t),je(n,r),i):new e(null)}},{key:\"foreach\",value:function(e){this.foreach_(be(),e)}},{key:\"foreach_\",value:function(e,t){this.children.inorderTraversal((function(n,i){i.foreach_(je(e,n),t)})),this.value&&t(e,this.value)}},{key:\"foreachChild\",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:\"fromObject\",value:function(t){var n=new e(null);return G(t,(function(e,t){n=n.set(new ke(e),t)})),n}}]),e}(),Yt=function(){function e(t){Object(l.a)(this,e),this.writeTree_=t}return Object(c.a)(e,null,[{key:\"empty\",value:function(){return new e(new Kt(null))}}]),e}();function Gt(e,t,n){if(Ee(t))return new Yt(new Kt(n));var i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){var r=i.path,o=i.value,s=Ne(r,t);return o=o.updateChild(s,n),new Yt(e.writeTree_.set(r,o))}var a=new Kt(n),u=e.writeTree_.setTree(t,a);return new Yt(u)}function Qt(e,t,n){var i=e;return G(n,(function(e,n){i=Gt(i,je(t,e),n)})),i}function Jt(e,t){if(Ee(t))return Yt.empty();var n=e.writeTree_.setTree(t,new Kt(null));return new Yt(n)}function $t(e,t){return null!=Xt(e,t)}function Xt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ne(n.path,t)):null}function Zt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rt,(function(e,n){t.push(new qe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new qe(e,n.value))})),t}function en(e,t){if(Ee(t))return e;var n=Xt(e,t);return new Yt(null!=n?new Kt(n):e.writeTree_.subtree(t))}function tn(e){return e.writeTree_.isEmpty()}function nn(e,t){return function e(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);var r=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(Object(_.e)(null!==o.value,\"Priority writes must always be leaf nodes\"),r=o.value):i=e(je(t,n),o,i)})),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(je(t,\".priority\"),r)),i}(be(),e.writeTree_,t)}function rn(e,t){return gn(t,e)}function on(e,t){for(var n=0;n<e.allWrites.length;n++){var i=e.allWrites[n];if(i.writeId===t)return i}return null}function sn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(_.e)(n>=0,\"removeWrite called with nonexistent writeId.\");var i=e.allWrites[n];e.allWrites.splice(n,1);for(var r=i.visible,o=!1,s=e.allWrites.length-1;r&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=n&&an(a,i.path)?r=!1:Pe(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return function(e){e.visibleWrites=ln(e.allWrites,un,be()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;i.snap?e.visibleWrites=Jt(e.visibleWrites,i.path):G(i.children,(function(t){e.visibleWrites=Jt(e.visibleWrites,je(i.path,t))}));return!0}return!1}function an(e,t){if(e.snap)return Pe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Pe(je(e.path,n),t))return!0;return!1}function un(e){return e.visible}function ln(e,t,n){for(var i=Yt.empty(),r=0;r<e.length;++r){var o=e[r];if(t(o)){var s=o.path,a=void 0;if(o.snap)Pe(n,s)?i=Gt(i,a=Ne(n,s),o.snap):Pe(s,n)&&(a=Ne(s,n),i=Gt(i,be(),o.snap.getChild(a)));else{if(!o.children)throw Object(_.f)(\"WriteRecord should have .snap or .children\");if(Pe(n,s))i=Qt(i,a=Ne(n,s),o.children);else if(Pe(s,n))if(Ee(a=Ne(s,n)))i=Qt(i,be(),o.children);else{var u=Object(_.G)(o.children,Ce(a));if(u){var l=u.getChild(Oe(a));i=Gt(i,be(),l)}}}}}return i}function cn(e,t,n,i,r){if(i||r){var o=en(e.visibleWrites,t);if(!r&&tn(o))return n;if(r||null!=n||$t(o,be())){return nn(ln(e.allWrites,(function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(Pe(e.path,t)||Pe(t,e.path))}),t),n||ct.EMPTY_NODE)}return null}var s=Xt(e.visibleWrites,t);if(null!=s)return s;var a=en(e.visibleWrites,t);return tn(a)?n:null!=n||$t(a,be())?nn(a,n||ct.EMPTY_NODE):null}function hn(e,t,n,i){return cn(e.writeTree,e.treePath,t,n,i)}function dn(e,t){return function(e,t,n){var i=ct.EMPTY_NODE,r=Xt(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(rt,(function(e,t){i=i.updateImmediateChild(e,t)})),i;if(n){var o=en(e.visibleWrites,t);return n.forEachChild(rt,(function(e,t){var n=nn(en(o,new ke(e)),t);i=i.updateImmediateChild(e,n)})),Zt(o).forEach((function(e){i=i.updateImmediateChild(e.name,e.node)})),i}return Zt(en(e.visibleWrites,t)).forEach((function(e){i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function fn(e,t,n,i){return function(e,t,n,i,r){Object(_.e)(i||r,\"Either existingEventSnap or existingServerSnap must exist\");var o=je(t,n);if($t(e.visibleWrites,o))return null;var s=en(e.visibleWrites,o);return tn(s)?r.getChild(n):nn(s,r.getChild(n))}(e.writeTree,e.treePath,t,n,i)}function vn(e,t){return function(e,t){return Xt(e.visibleWrites,t)}(e.writeTree,je(e.treePath,t))}function _n(e,t,n,i,r,o){return function(e,t,n,i,r,o,s){var a,u=en(e.visibleWrites,t),l=Xt(u,be());if(null!=l)a=l;else{if(null==n)return[];a=nn(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=d.getNext();f&&c.length<r;)0!==h(f,i)&&c.push(f),f=d.getNext();return c}(e.writeTree,e.treePath,t,n,i,r,o)}function pn(e,t,n){return function(e,t,n,i){var r=je(t,n),o=Xt(e.visibleWrites,r);return null!=o?o:i.isCompleteForChild(n)?nn(en(e.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function yn(e,t){return gn(je(e.treePath,t),e.writeTree)}function gn(e,t){return{treePath:e,writeTree:t}}var mn=function(){function e(){Object(l.a)(this,e),this.changeMap=new Map}return Object(c.a)(e,[{key:\"trackChildChange\",value:function(e){var t=e.type,n=e.childName;Object(_.e)(\"child_added\"===t||\"child_changed\"===t||\"child_removed\"===t,\"Only child changes supported for tracking\"),Object(_.e)(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var i=this.changeMap.get(n);if(i){var r=i.type;if(\"child_added\"===t&&\"child_removed\"===r)this.changeMap.set(n,bt(n,e.snapshotNode,i.snapshotNode));else if(\"child_removed\"===t&&\"child_added\"===r)this.changeMap.delete(n);else if(\"child_removed\"===t&&\"child_changed\"===r)this.changeMap.set(n,kt(n,i.oldSnap));else if(\"child_changed\"===t&&\"child_added\"===r)this.changeMap.set(n,mt(n,e.snapshotNode));else{if(\"child_changed\"!==t||\"child_changed\"!==r)throw Object(_.f)(\"Illegal combination of changes: \"+e+\" occurred after \"+i);this.changeMap.set(n,bt(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}},{key:\"getChanges\",value:function(){return Array.from(this.changeMap.values())}}]),e}(),kn=new(function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:\"getCompleteChild\",value:function(e){return null}},{key:\"getChildAfterChild\",value:function(e,t,n){return null}}]),e}()),bn=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(l.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}return Object(c.a)(e,[{key:\"getCompleteChild\",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Lt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,e,n)}},{key:\"getChildAfterChild\",value:function(e,t,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bt(this.viewCache_),r=_n(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}]),e}();function Cn(e,t,n,i,r){var o,s,a=new mn;if(n.type===Nt.OVERWRITE){var u=n;u.source.fromUser?o=Tn(e,t,u.path,u.snap,i,r,a):(Object(_.e)(u.source.fromServer,\"Unknown source.\"),s=u.source.tagged||t.serverCache.isFiltered()&&!Ee(u.path),o=On(e,t,u.path,u.snap,i,r,s,a))}else if(n.type===Nt.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,i,r,o,s){var a=t;return i.foreach((function(i,u){var l=je(n,i);In(t,Ce(l))&&(a=Tn(e,a,l,u,r,o,s))})),i.foreach((function(i,u){var l=je(n,i);In(t,Ce(l))||(a=Tn(e,a,l,u,r,o,s))})),a}(e,t,l.path,l.children,i,r,a):(Object(_.e)(l.source.fromServer,\"Unknown source.\"),s=l.source.tagged||t.serverCache.isFiltered(),o=jn(e,t,l.path,l.children,i,r,s,a))}else if(n.type===Nt.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,i,r,o){var s;if(null!=vn(i,n))return t;var a,u=new bn(i,t,r),l=t.eventCache.getNode();if(Ee(n)||\".priority\"===Ce(n)){var c;if(t.serverCache.isFullyInitialized())c=hn(i,Bt(t));else{var h=t.serverCache.getNode();Object(_.e)(h instanceof ct,\"serverChildren would be complete if leaf node\"),c=dn(i,h)}c=c,a=e.filter.updateFullNode(l,c,o)}else{var d=Ce(n),f=pn(i,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),(a=null!=f?e.filter.updateChild(l,d,f,Oe(n),u,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,ct.EMPTY_NODE,Oe(n),u,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=hn(i,Bt(t))).isLeafNode()&&(a=e.filter.updateFullNode(a,s,o))}return s=t.serverCache.isFullyInitialized()||null!=vn(i,be()),Ut(t,a,s,e.filter.filtersNodes())}(e,t,c.path,i,r,a):function(e,t,n,i,r,o,s){if(null!=vn(r,n))return t;var a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=i.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return On(e,t,n,u.getNode().getChild(n),r,o,a,s);if(Ee(n)){var l=new Kt(null);return u.getNode().forEachChild(He,(function(e,t){l=l.set(new ke(e),t)})),jn(e,t,n,l,r,o,a,s)}return t}var c=new Kt(null);return i.foreach((function(e,t){var i=je(n,e);u.isCompleteForPath(i)&&(c=c.set(e,u.getNode().getChild(i)))})),jn(e,t,n,c,r,o,a,s)}(e,t,c.path,c.affectedTree,i,r,a)}else{if(n.type!==Nt.LISTEN_COMPLETE)throw Object(_.f)(\"Unknown operation type: \"+n.type);o=function(e,t,n,i,r){var o=t.serverCache,s=Ht(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return wn(e,s,n,i,kn,r)}(e,t,n.path,i,a)}var h=a.getChanges();return function(e,t,n){var i=t.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=zt(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(gt(zt(t)))}}(t,o,h),{viewCache:o,changes:h}}function wn(e,t,n,i,r,o){var s,a,u=t.eventCache;if(null!=vn(i,n))return t;if(Ee(n))if(Object(_.e)(t.serverCache.isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.serverCache.isFiltered()){var l=Bt(t),c=dn(i,l instanceof ct?l:ct.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=hn(i,Bt(t));s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var d=Ce(n);if(\".priority\"===d){Object(_.e)(1===we(n),\"Can't have a priority with additional path components\");var f=u.getNode(),v=fn(i,n,f,a=t.serverCache.getNode());s=null!=v?e.filter.updatePriority(f,v):u.getNode()}else{var p,y=Oe(n);if(u.isCompleteForChild(d)){a=t.serverCache.getNode();var g=fn(i,n,u.getNode(),a);p=null!=g?u.getNode().getImmediateChild(d).updateChild(y,g):u.getNode().getImmediateChild(d)}else p=pn(i,d,t.serverCache);s=null!=p?e.filter.updateChild(u.getNode(),d,p,y,r,o):u.getNode()}}return Ut(t,s,u.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function On(e,t,n,i,r,o,s,a){var u,l=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),h,null)}else{var d=Ce(n);if(!l.isCompleteForPath(n)&&we(n)>1)return t;var f=Oe(n),v=l.getNode().getImmediateChild(d).updateChild(f,i);u=\".priority\"===d?c.updatePriority(l.getNode(),v):c.updateChild(l.getNode(),d,v,f,kn,null)}var _=Ht(t,u,l.isFullyInitialized()||Ee(n),c.filtersNodes());return wn(e,_,n,r,new bn(r,_,o),a)}function Tn(e,t,n,i,r,o,s){var a,u,l=t.eventCache,c=new bn(r,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,s),a=Ut(t,u,!0,e.filter.filtersNodes());else{var h=Ce(n);if(\".priority\"===h)u=e.filter.updatePriority(t.eventCache.getNode(),i),a=Ut(t,u,l.isFullyInitialized(),l.isFiltered());else{var d,f=Oe(n),v=l.getNode().getImmediateChild(h);if(Ee(f))d=i;else{var _=c.getCompleteChild(h);d=null!=_?\".priority\"===Te(f)&&_.getChild(Se(f)).isEmpty()?_:_.updateChild(f,i):ct.EMPTY_NODE}if(v.equals(d))a=t;else a=Ut(t,e.filter.updateChild(l.getNode(),h,d,f,c,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return a}function In(e,t){return e.eventCache.isCompleteForChild(t)}function Sn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jn(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Ee(n)?i:new Kt(null).setTree(n,i);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,i){if(c.hasChild(n)){var u=Sn(0,t.serverCache.getNode().getImmediateChild(n),i);l=On(e,l,new ke(n),u,r,o,s,a)}})),u.children.inorderTraversal((function(n,i){var u=!t.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!c.hasChild(n)&&!u){var h=Sn(0,t.serverCache.getNode().getImmediateChild(n),i);l=On(e,l,new ke(n),h,r,o,s,a)}})),l}var En;function Nn(e,t){var n=Bt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(Ce(t)).isEmpty())?n.getChild(t):null}function Rn(e,t,n,i){t.type===Nt.MERGE&&null!==t.source.queryId&&(Object(_.e)(Bt(e.viewCache_),\"We should always have a full cache before handling merges\"),Object(_.e)(zt(e.viewCache_),\"Missing event cache, even though we have a server cache\"));var r,o,s=e.viewCache_,a=Cn(e.processor_,s,t,n,i);return r=e.processor_,o=a.viewCache,Object(_.e)(o.eventCache.getNode().isIndexed(r.filter.getIndex()),\"Event snap not indexed\"),Object(_.e)(o.serverCache.getNode().isIndexed(r.filter.getIndex()),\"Server snap not indexed\"),Object(_.e)(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),e.viewCache_=a.viewCache,Pn(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Pn(e,t,n,i){var r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){var r=[],o=[];return t.forEach((function(t){var n;\"child_changed\"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:\"child_moved\",snapshotNode:t.snapshotNode,childName:n}))})),qt(e,r,\"child_removed\",t,i,n),qt(e,r,\"child_added\",t,i,n),qt(e,r,\"child_moved\",o,i,n),qt(e,r,\"child_changed\",t,i,n),qt(e,r,\"value\",t,i,n),r}(e.eventGenerator_,t,n,r)}var xn;function Dn(e,t,n,i){var r=t.source.queryId;if(null!==r){var o=e.views.get(r);return Object(_.e)(null!=o,\"SyncTree gave us an op for an invalid query.\"),Rn(o,t,n,i)}var s,a=[],u=g(e.views.values());try{for(u.s();!(s=u.n()).done;){var l=s.value;a=a.concat(Rn(l,t,n,i))}}catch(c){u.e(c)}finally{u.f()}return a}function Mn(e,t){var n,i=null,r=g(e.views.values());try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i||Nn(o,t)}}catch(s){r.e(s)}finally{r.f()}return i}var An=Object(c.a)((function e(t){Object(l.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new Kt(null),this.pendingWriteTree_={visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Fn(e,t,n,i,r){return function(e,t,n,i,r){Object(_.e)(i>e.lastWriteId,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Gt(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?Hn(e,new At({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=on(e.pendingWriteTree_,t),r=sn(e.pendingWriteTree_,t);if(r){var o=new Kt(null);return null!=i.snap?o=o.set(be(),!0):G(i.children,(function(e){o=o.set(new ke(e),!0)})),Hn(e,new Mt(i.path,o,n))}return[]}function qn(e,t,n){return Hn(e,new At({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Wn(e,t,n,i){var r=zn(e,i);if(null!=r){var o=Bn(r),s=o.path,a=o.queryId,u=Ne(s,t);return Vn(e,s,new At(xt(a),u,n))}return[]}function Un(e,t,n){var i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(function(e,n){var i=Mn(n,Ne(e,t));if(i)return i}));return cn(i,t,r,n,!0)}function Hn(e,t){return function e(t,n,i,r){if(Ee(t.path))return function e(t,n,i,r){var o=n.get(be());null==i&&null!=o&&(i=Mn(o,be()));var s=[];n.children.inorderTraversal((function(n,o){var a=i?i.getImmediateChild(n):null,u=yn(r,n),l=t.operationForChild(n);l&&(s=s.concat(e(l,o,a,u)))})),o&&(s=s.concat(Dn(o,t,r,i)));return s}(t,n,i,r);var o=n.get(be());null==i&&null!=o&&(i=Mn(o,be()));var s=[],a=Ce(t.path),u=t.operationForChild(a),l=n.children.get(a);if(l&&u){var c=i?i.getImmediateChild(a):null,h=yn(r,a);s=s.concat(e(u,l,c,h))}return o&&(s=s.concat(Dn(o,t,r,i))),s}(t,e.syncPointTree_,null,rn(e.pendingWriteTree_,be()))}function zn(e,t){return e.tagToQueryMap.get(t)}function Bn(e){var t=e.indexOf(\"$\");return Object(_.e)(-1!==t&&t<e.length-1,\"Bad queryKey.\"),{queryId:e.substr(t+1),path:new ke(e.substr(0,t))}}function Vn(e,t,n){var i=e.syncPointTree_.get(t);return Object(_.e)(i,\"Missing sync point for query tag that we're tracking\"),Dn(i,n,rn(e.pendingWriteTree_,t),null)}var Kn=function(){function e(t){Object(l.a)(this,e),this.node_=t}return Object(c.a)(e,[{key:\"getImmediateChild\",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:\"node\",value:function(){return this.node_}}]),e}(),Yn=function(){function e(t,n){Object(l.a)(this,e),this.syncTree_=t,this.path_=n}return Object(c.a)(e,[{key:\"getImmediateChild\",value:function(t){var n=je(this.path_,t);return new e(this.syncTree_,n)}},{key:\"node\",value:function(){return Un(this.syncTree_,this.path_)}}]),e}(),Gn=function(e,t,n){return e&&\"object\"==typeof e?(Object(_.e)(\".sv\"in e,\"Unexpected leaf node or priority contents\"),\"string\"==typeof e[\".sv\"]?Qn(e[\".sv\"],t,n):\"object\"==typeof e[\".sv\"]?Jn(e[\".sv\"],t):void Object(_.e)(!1,\"Unexpected server value: \"+JSON.stringify(e,null,2))):e},Qn=function(e,t,n){switch(e){case\"timestamp\":return n.timestamp;default:Object(_.e)(!1,\"Unexpected server value: \"+e)}},Jn=function(e,t,n){e.hasOwnProperty(\"increment\")||Object(_.e)(!1,\"Unexpected server value: \"+JSON.stringify(e,null,2));var i=e.increment;\"number\"!=typeof i&&Object(_.e)(!1,\"Unexpected increment value: \"+i);var r=t.node();if(Object(_.e)(null!=r,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!r.isLeafNode())return i;var o=r.getValue();return\"number\"!=typeof o?i:o+i},$n=function(e,t,n,i){return Zn(t,new Yn(n,e),i)},Xn=function(e,t,n){return Zn(e,new Kn(t),n)};function Zn(e,t,n){var i,r=e.getPriority().val(),o=Gn(r,t.getImmediateChild(\".priority\"),n);if(e.isLeafNode()){var s=e,a=Gn(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new tt(a,dt(o)):e}var u=e;return i=u,o!==u.getPriority().val()&&(i=i.updatePriority(new tt(o))),u.forEachChild(rt,(function(e,r){var o=Zn(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))})),i}var ei=Object(c.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(l.a)(this,e),this.name=t,this.parent=n,this.node=i}));function ti(e,t){for(var n=t instanceof ke?t:new ke(t),i=e,r=Ce(n);null!==r;){var o=Object(_.G)(i.node.children,r)||{children:{},childCount:0};i=new ei(r,i,o),r=Ce(n=Oe(n))}return i}function ni(e){return e.node.value}function ii(e,t){e.node.value=t,ai(e)}function ri(e){return e.node.childCount>0}function oi(e,t){G(e.node.children,(function(n,i){t(new ei(n,e,i))}))}function si(e){return new ke(null===e.parent?e.name:si(e.parent)+\"/\"+e.name)}function ai(e){null!==e.parent&&function(e,t,n){var i=function(e){return void 0===ni(e)&&!ri(e)}(n),r=Object(_.k)(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,ai(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,ai(e))}(e.parent,e.name,e)}var ui=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,li=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,ci=function(e){return\"string\"==typeof e&&0!==e.length&&!ui.test(e)},hi=function(e){return\"string\"==typeof e&&0!==e.length&&!li.test(e)},di=function e(t,n,i){var r=i instanceof ke?new xe(i,t):i;if(void 0===n)throw new Error(t+\"contains undefined \"+Me(r));if(\"function\"==typeof n)throw new Error(t+\"contains a function \"+Me(r)+\" with contents = \"+n.toString());if(W(n))throw new Error(t+\"contains \"+n.toString()+\" \"+Me(r));if(\"string\"==typeof n&&n.length>10485760/3&&Object(_.H)(n)>10485760)throw new Error(t+\"contains a string greater than 10485760 utf8 bytes \"+Me(r)+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,s=!1;if(G(n,(function(n,i){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(s=!0,!ci(n)))throw new Error(t+\" contains an invalid key (\"+n+\") \"+Me(r)+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');var a,u;u=n,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(u),a.byteLength_+=Object(_.H)(u),De(a),e(t,i,r),function(e){var t=e.parts_.pop();e.byteLength_-=Object(_.H)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),o&&s)throw new Error(t+' contains \".value\" child '+Me(r)+\" in addition to actual children.\")}},fi=function(e,t){var n=t.path.toString();if(\"string\"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ci(t.repoInfo.namespace)&&\"localhost\"!==t.repoInfo.host.split(\":\")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\\/*\\.info(\\/|$)/,\"/\")),hi(e)}(n))throw new Error(Object(_.p)(e,\"url\")+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},vi=Object(c.a)((function e(){Object(l.a)(this,e),this.eventLists_=[],this.recursionDepth_=0}));function _i(e,t){for(var n=null,i=0;i<t.length;i++){var r=t[i],o=r.getPath();null===n||Re(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function pi(e,t,n){_i(e,n),yi(e,(function(e){return Pe(e,t)||Pe(t,e)}))}function yi(e,t){e.recursionDepth_++;for(var n=!0,i=0;i<e.eventLists_.length;i++){var r=e.eventLists_[i];if(r)t(r.path)?(gi(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function gi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var i=n.getEventRunner();P&&M(\"event: \"+n.toString()),X(i)}}}var mi=function(){function e(t,n,i,r){Object(l.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=St(),this.transactionQueueTree_=new ei,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(c.a)(e,[{key:\"toString\",value:function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host}}]),e}();function ki(e,t,n){if(e.stats_=le(e.repoInfo_),e.forceRestClient_||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Tt(e.repoInfo_,(function(t,n,i,r){wi(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Oi(e,!0)}),0);else{if(null!=n){if(\"object\"!=typeof n)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{Object(_.J)(n)}catch(s){throw new Error(\"Invalid authOverride provided: \"+s)}}e.persistentConnection_=new Fe(e.repoInfo_,t,(function(t,n,i,r){wi(e,t,n,i,r)}),(function(t){Oi(e,t)}),(function(t){!function(e,t){G(t,(function(t,n){Ti(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var i,r,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(i=e.repoInfo_,r=function(){return new Pt(e.stats_,e.server_)},o=i.toString(),ue[o]||(ue[o]=r()),ue[o]),e.infoData_=new It,e.infoSyncTree_=new An({startListening:function(t,n,i,r){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=qn(e.infoSyncTree_,t._path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),Ti(e,\"connected\",!1),e.serverSyncTree_=new An({startListening:function(t,n,i,r){return e.server_.listen(t,i,n,(function(n,i){var o=r(n,i);pi(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function bi(e){var t=e.infoData_.getNode(new ke(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t}function Ci(e){return(t=(t={timestamp:bi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function wi(e,t,n,i,r){e.dataUpdateCount++;var o=new ke(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(r)if(i){var a=Object(_.D)(n,(function(e){return dt(e)}));s=function(e,t,n,i){var r=zn(e,i);if(r){var o=Bn(r),s=o.path,a=o.queryId,u=Ne(s,t),l=Kt.fromObject(n);return Vn(e,s,new Ft(xt(a),u,l))}return[]}(e.serverSyncTree_,o,a,r)}else{var u=dt(n);s=Wn(e.serverSyncTree_,o,u,r)}else if(i){var l=Object(_.D)(n,(function(e){return dt(e)}));s=function(e,t,n){var i=Kt.fromObject(n);return Hn(e,new Ft({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,l)}else{var c=dt(n);s=qn(e.serverSyncTree_,o,c)}var h=o;s.length>0&&(h=Pi(e,o)),pi(e.eventQueue_,h,s)}function Oi(e,t){Ti(e,\"connected\",t),!1===t&&function(e){ji(e,\"onDisconnectEvents\");var t=Ci(e),n=St();Et(e.onDisconnect_,be(),(function(i,r){var o=$n(i,r,e.serverSyncTree_,t);jt(n,i,o)}));var i=[];Et(n,be(),(function(t,n){i=i.concat(qn(e.serverSyncTree_,t,n));var r=Ai(e,t);Pi(e,r)})),e.onDisconnect_=St(),pi(e.eventQueue_,be(),i)}(e)}function Ti(e,t,n){var i=new ke(\"/.info/\"+t),r=dt(n);e.infoData_.updateSnapshot(i,r);var o=qn(e.infoSyncTree_,i,r);pi(e.eventQueue_,i,o)}function Ii(e){return e.nextWriteId_++}function Si(e){e.persistentConnection_&&e.persistentConnection_.interrupt(\"repo_interrupt\")}function ji(e){var t=\"\";e.persistentConnection_&&(t=e.persistentConnection_.id+\":\");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];M.apply(void 0,[t].concat(i))}function Ei(e,t,n){return Un(e.serverSyncTree_,t,n)||ct.EMPTY_NODE}function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Mi(e,t),ni(t)){var n=Di(e,t);Object(_.e)(n.length>0,\"Sending zero length transaction queue\");var i=n.every((function(e){return 0===e.status}));i&&Ri(e,si(t),n)}else ri(t)&&oi(t,(function(t){Ni(e,t)}))}function Ri(e,t,n){for(var i=n.map((function(e){return e.currentWriteId})),r=Ei(e,t,i),o=r,s=r.hash(),a=0;a<n.length;a++){var u=n[a];Object(_.e)(0===u.status,\"tryToSendTransactionQueue_: items in queue should all be run.\"),u.status=1,u.retryCount++;var l=Ne(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(i){ji(e,\"transaction put response\",{path:h.toString(),status:i});var r=[];if(\"ok\"===i){for(var o=[],s=function(t){n[t].status=2,r=r.concat(Ln(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=0;a<n.length;a++)s(a);Mi(e,ti(e.transactionQueueTree_,t)),Ni(e,e.transactionQueueTree_),pi(e.eventQueue_,t,r);for(var u=0;u<o.length;u++)X(o[u])}else{if(\"datastale\"===i)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{q(\"transaction at \"+h.toString()+\" failed: \"+i);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=i}Pi(e,t)}}),s)}function Pi(e,t){var n=xi(e,t),i=si(n);return function(e,t,n){if(0===t.length)return;for(var i=[],r=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var a,u=t[s],l=Ne(n,u.path),c=!1,h=void 0;if(Object(_.e)(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),4===u.status)c=!0,h=u.abortReason,r=r.concat(Ln(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h=\"maxretry\",r=r.concat(Ln(e.serverSyncTree_,u.currentWriteId,!0));else{var d=Ei(e,u.path,o);u.currentInputSnapshot=d;var f=t[s].update(d.val());if(void 0!==f){di(\"transaction failed: Data returned \",f,u.path);var v=dt(f);\"object\"==typeof f&&null!=f&&Object(_.k)(f,\".priority\")||(v=v.updatePriority(d.getPriority()));var p=u.currentWriteId,y=Ci(e),g=Xn(v,d,y);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=g,u.currentWriteId=Ii(e),o.splice(o.indexOf(p),1),r=(r=r.concat(Fn(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(Ln(e.serverSyncTree_,p,!0))}else c=!0,h=\"nodata\",r=r.concat(Ln(e.serverSyncTree_,u.currentWriteId,!0))}pi(e.eventQueue_,n,r),r=[],c&&(t[s].status=2,a=t[s].unwatcher,setTimeout(a,Math.floor(0)),t[s].onComplete&&(\"nodata\"===h?i.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):i.push((function(){return t[s].onComplete(new Error(h),!1,null)}))))},a=0;a<t.length;a++)s(a);Mi(e,e.transactionQueueTree_);for(var u=0;u<i.length;u++)X(i[u]);Ni(e,e.transactionQueueTree_)}(e,Di(e,n),i),i}function xi(e,t){var n,i=e.transactionQueueTree_;for(n=Ce(t);null!==n&&void 0===ni(i);)i=ti(i,n),n=Ce(t=Oe(t));return i}function Di(e,t){var n=[];return function e(t,n,i){var r=ni(n);if(r)for(var o=0;o<r.length;o++)i.push(r[o]);oi(n,(function(n){e(t,n,i)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Mi(e,t){var n=ni(t);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,ii(t,n.length>0?n:void 0)}oi(t,(function(t){Mi(e,t)}))}function Ai(e,t){var n=si(xi(e,t)),i=ti(e.transactionQueueTree_,t);return function(e,t,n){for(var i=n?e:e.parent;null!==i;){if(t(i))return!0;i=i.parent}}(i,(function(t){Fi(e,t)})),Fi(e,i),function e(t,n,i,r){i&&!r&&n(t),oi(t,(function(t){e(t,n,!0,r)})),i&&r&&n(t)}(i,(function(t){Fi(e,t)})),n}function Fi(e,t){var n=ni(t);if(n){for(var i=[],r=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(_.e)(o===s-1,\"All SENT items should be at beginning of queue.\"),o=s,n[s].status=3,n[s].abortReason=\"set\"):(Object(_.e)(0===n[s].status,\"Unexpected transaction status in abort\"),n[s].unwatcher(),r=r.concat(Ln(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error(\"set\"),!1,null))));-1===o?ii(t,void 0):n.length=o+1,pi(e.eventQueue_,si(t),r);for(var a=0;a<i.length;a++)X(i[a])}}var Li=function(e,t){var n=qi(e),i=n.namespace;\"firebase.com\"===n.domain&&L(n.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),i&&\"undefined\"!==i||\"localhost\"===n.domain||L(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),n.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&q(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var r=\"ws\"===n.scheme||\"wss\"===n.scheme;return{repoInfo:new re(n.host,n.secure,i,r,t,\"\",i!==n.subdomain),path:new ke(n.pathString)}},qi=function(e){var t=\"\",n=\"\",i=\"\",r=\"\",o=\"\",s=!0,a=\"https\",u=443;if(\"string\"==typeof e){var l=e.indexOf(\"//\");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf(\"/\");-1===c&&(c=e.length);var h=e.indexOf(\"?\");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(r=function(e){for(var t=\"\",n=e.split(\"/\"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\\+/g,\" \"))}catch(o){}t+=\"/\"+r}return t}(e.substring(c,h)));var d=function(e){var t={};\"?\"===e.charAt(0)&&(e=e.substring(1));var n,i=g(e.split(\"&\"));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(0!==r.length){var o=r.split(\"=\");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):q(\"Invalid query segment '\".concat(r,\"' in query '\").concat(e,\"'\"))}}}catch(s){i.e(s)}finally{i.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(\":\"))>=0?(s=\"https\"===a||\"wss\"===a,u=parseInt(t.substring(l+1),10)):l=t.length;var f=t.slice(0,l);if(\"localhost\"===f.toLowerCase())n=\"localhost\";else if(f.split(\".\").length<=2)n=f;else{var v=t.indexOf(\".\");i=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=i}\"ns\"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},Wi=function(){function e(t,n,i,r){Object(l.a)(this,e),this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}return Object(c.a)(e,[{key:\"key\",get:function(){return Ee(this._path)?null:Te(this._path)}},{key:\"ref\",get:function(){return new Ui(this._repo,this._path)}},{key:\"_queryIdentifier\",get:function(){var e=Ot(this._queryParams),t=K(e);return\"{}\"===t?\"default\":t}},{key:\"_queryObject\",get:function(){return Ot(this._queryParams)}},{key:\"isEqual\",value:function(t){if(!((t=Object(_.r)(t))instanceof e))return!1;var n=this._repo===t._repo,i=Re(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}},{key:\"toJSON\",value:function(){return this.toString()}},{key:\"toString\",value:function(){return this._repo.toString()+function(e){for(var t=\"\",n=e.pieceNum_;n<e.pieces_.length;n++)\"\"!==e.pieces_[n]&&(t+=\"/\"+encodeURIComponent(String(e.pieces_[n])));return t||\"/\"}(this._path)}}]),e}();var Ui=function(e){Object(o.a)(n,e);var t=y(n);function n(e,i){return Object(l.a)(this,n),t.call(this,e,i,new Ct,!1)}return Object(c.a)(n,[{key:\"parent\",get:function(){var e=Se(this._path);return null===e?null:new n(this._repo,e)}},{key:\"root\",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Wi);!function(e){Object(_.e)(!En,\"__referenceConstructor has already been defined\"),En=e}(Ui),function(e){Object(_.e)(!xn,\"__referenceConstructor has already been defined\"),xn=e}(Ui);var Hi={},zi=!1;function Bi(t,n,i,r,o){var s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||L(\"Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp().\"),M(\"Using default host for project \",t.options.projectId),s=\"\".concat(t.options.projectId,\"-default-rtdb.firebaseio.com\"));var a,u=Li(s,o),l=u.repoInfo,c=void 0;void 0!==e&&(c={}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,s=\"http://\".concat(c,\"?ns=\").concat(l.namespace),l=(u=Li(s,o)).repoInfo):a=!u.repoInfo.secure;var h=o&&a?new ne(ne.OWNER):new te(t.name,t.options,n);fi(\"Invalid Firebase Database URL\",u),Ee(u.path)||L(\"Database URL must point to the root of a Firebase Database (not including a child path).\");var d=function(e,t,n,i){var r=Hi[t.name];r||(r={},Hi[t.name]=r);var o=r[e.toURLString()];o&&L(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\");return o=new mi(e,zi,n,i),r[e.toURLString()]=o,o}(l,t,h,new ee(t.name,i));return new Vi(d,t)}var Vi=function(){function e(t,n){Object(l.a)(this,e),this._repoInternal=t,this.app=n,this.type=\"database\",this._instanceStarted=!1}return Object(c.a)(e,[{key:\"_repo\",get:function(){return this._instanceStarted||(ki(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:\"_root\",get:function(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,be())),this._rootInternal}},{key:\"_delete\",value:function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=Hi[t])&&n[e.key]===e||L(\"Database \".concat(t,\"(\").concat(e.repoInfo_,\") has already been deleted.\")),Si(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:\"_checkNotDeleted\",value:function(e){null===this._rootInternal&&L(\"Cannot call \"+e+\" on a deleted database.\")}}]),e}();Fe.prototype.simpleListen=function(e,t){this.sendRequest(\"q\",{p:e},t)},Fe.prototype.echo=function(e,t){this.sendRequest(\"echo\",{d:e},t)};var Ki;!function(e){b=e}(f.a),Object(f.c)(new v.a(\"database\",(function(e,t){var n=t.instanceIdentifier;return Bi(e.getProvider(\"app\").getImmediate(),e.getProvider(\"auth-internal\"),e.getProvider(\"app-check-internal\"),n)}),\"PUBLIC\").setMultipleInstances(!0)),Object(f.e)(k,\"0.13.4\",Ki),Object(f.e)(k,\"0.13.4\",\"esm2017\")}).call(this,n(\"8oxB\"))}}]);","extractedComments":["/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */"]}