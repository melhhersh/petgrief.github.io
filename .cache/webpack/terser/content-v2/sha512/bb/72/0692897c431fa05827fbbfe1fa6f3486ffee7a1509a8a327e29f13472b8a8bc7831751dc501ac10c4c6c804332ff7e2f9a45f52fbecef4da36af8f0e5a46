{"map":"{\"version\":3,\"sources\":[\"8673774c-6d52377f5c83eb072159.js\"],\"names\":[\"window\",\"push\",\"NSPt\",\"module\",\"exports\",\"__webpack_require__\",\"process\",\"Object\",\"defineProperty\",\"value\",\"ex\",\"id\",\"firebase\",\"tslib\",\"util\",\"logger$1\",\"component\",\"DOMStorageWrapper\",\"domStorage_\",\"this\",\"prefix_\",\"prototype\",\"set\",\"key\",\"removeItem\",\"prefixedName_\",\"setItem\",\"stringify\",\"get\",\"storedVal\",\"getItem\",\"jsonEval\",\"remove\",\"name\",\"toString\",\"MemoryStorage\",\"cache_\",\"isInMemoryStorage\",\"contains\",\"createStoragefor\",\"domStorageName\",\"domStorage\",\"e\",\"PersistentStorage\",\"SessionStorage\",\"logClient\",\"Logger\",\"LUIDGenerator\",\"sha1\",\"str\",\"utf8Bytes\",\"stringToByteArray\",\"Sha1\",\"update\",\"sha1Bytes\",\"digest\",\"base64\",\"encodeByteArray\",\"buildLogMessage_\",\"varArgs\",\"_i\",\"arguments\",\"length\",\"message\",\"i\",\"arg\",\"Array\",\"isArray\",\"apply\",\"logger\",\"firstLog_\",\"enableLogging\",\"logger_\",\"persistent\",\"assert\",\"logLevel\",\"LogLevel\",\"VERBOSE\",\"log\",\"bind\",\"logWrapper\",\"prefix\",\"__spread\",\"error\",\"fatal\",\"Error\",\"warn\",\"isInvalidJSONNumber\",\"data\",\"Number\",\"POSITIVE_INFINITY\",\"NEGATIVE_INFINITY\",\"MIN_NAME\",\"MAX_NAME\",\"nameCompare\",\"a\",\"b\",\"aAsInt\",\"tryParseInt\",\"bAsInt\",\"stringCompare\",\"requireKey\",\"obj\",\"ObjectToUniqueKey\",\"keys\",\"k\",\"sort\",\"splitStringBySize\",\"segsize\",\"len\",\"dataSegs\",\"c\",\"substring\",\"each\",\"fn\",\"hasOwnProperty\",\"doubleToIEEE754String\",\"v\",\"s\",\"f\",\"ln\",\"Infinity\",\"Math\",\"abs\",\"pow\",\"min\",\"floor\",\"LN2\",\"round\",\"bits\",\"reverse\",\"join\",\"hexByteString\",\"hexByte\",\"parseInt\",\"substr\",\"toLowerCase\",\"INTEGER_REGEXP_\",\"RegExp\",\"test\",\"intVal\",\"exceptionGuard\",\"setTimeout\",\"stack\",\"setTimeoutNonBlocking\",\"time\",\"timeout\",\"Path\",\"pathOrString\",\"pieceNum\",\"pieces_\",\"split\",\"copyTo\",\"pieceNum_\",\"enumerable\",\"configurable\",\"getFront\",\"getLength\",\"popFront\",\"getBack\",\"pathString\",\"toUrlEncodedString\",\"encodeURIComponent\",\"String\",\"slice\",\"begin\",\"parent\",\"pieces\",\"child\",\"childPathObj\",\"childPieces\",\"isEmpty\",\"relativePath\",\"outerPath\",\"innerPath\",\"outer\",\"inner\",\"comparePaths\",\"left\",\"right\",\"leftKeys\",\"rightKeys\",\"cmp\",\"equals\",\"other\",\"j\",\"ValidationPath\",\"path\",\"errorPrefix_\",\"parts_\",\"byteLength_\",\"max\",\"stringLength\",\"checkValid_\",\"pop\",\"last\",\"MAX_PATH_LENGTH_BYTES\",\"MAX_PATH_DEPTH\",\"toErrorString\",\"RepoInfo\",\"host\",\"secure\",\"namespace\",\"webSocketOnly\",\"persistenceKey\",\"includeNamespaceInQueryParams\",\"domain\",\"indexOf\",\"internalHost\",\"needsQueryParam\",\"isCustomHost\",\"isCacheableHost\",\"isDemoHost\",\"updateHost\",\"newHost\",\"connectionURL\",\"type\",\"params\",\"connURL\",\"pairs\",\"toURLString\",\"PUSH_CHARS\",\"lastPushTime\",\"lastRandChars\",\"__EMPTY_NODE\",\"MAX_NODE\",\"parseRepoInfo\",\"dataURL\",\"parsedUrl\",\"parseDatabaseURL\",\"location\",\"protocol\",\"scheme\",\"repoInfo\",\"subdomain\",\"port\",\"colonInd\",\"slashInd\",\"questionMarkInd\",\"pathStringDecoded\",\"piece\",\"decodeURIComponent\",\"replace\",\"decodePath\",\"queryParams\",\"queryString\",\"e_1\",\"_a\",\"results\",\"charAt\",\"_b\",\"__values\",\"_c\",\"next\",\"done\",\"segment\",\"kv\",\"e_1_1\",\"return\",\"call\",\"decodeQuery\",\"hostWithoutPort\",\"dotInd\",\"INVALID_KEY_REGEX_\",\"INVALID_PATH_REGEX_\",\"isValidKey\",\"isValidPathString\",\"isValidPriority\",\"priority\",\"validateFirebaseDataArg\",\"fnName\",\"argumentNumber\",\"optional\",\"undefined\",\"validateFirebaseData\",\"errorPrefix\",\"path_\",\"hasDotValue_1\",\"hasActualChild_1\",\"validateFirebaseMergeDataArg\",\"mergePaths\",\"curPath\",\"prevPath\",\"validateFirebaseMergePaths\",\"validatePriority\",\"validateEventType\",\"eventType\",\"validateKey\",\"validatePathString\",\"validateRootPathString\",\"validateWritablePath\",\"validateUrl\",\"isValidRootPathString\",\"validateBoolean\",\"bool\",\"OnDisconnect\",\"repo_\",\"cancel\",\"onComplete\",\"validateArgCount\",\"validateCallback\",\"deferred\",\"Deferred\",\"onDisconnectCancel\",\"wrapCallback\",\"promise\",\"onDisconnectSet\",\"setWithPriority\",\"onDisconnectSetWithPriority\",\"objectToMerge\",\"newObjectToMerge\",\"onDisconnectUpdate\",\"TransactionResult\",\"committed\",\"snapshot\",\"toJSON\",\"nextPushId\",\"now\",\"duplicateTime\",\"timeStampChars\",\"random\",\"NamedNode\",\"node\",\"Wrap\",\"Index\",\"getCompare\",\"compare\",\"indexedValueChanged\",\"oldNode\",\"newNode\",\"oldWrapped\",\"newWrapped\",\"minPost\",\"MIN\",\"KeyIndex\",\"_super\",\"__extends\",\"val\",\"isDefinedOn\",\"assertionError\",\"maxPost\",\"makePost\",\"indexValue\",\"KEY_INDEX\",\"__childrenNodeConstructor\",\"nodeFromJSON\",\"MAX_NODE$1\",\"priorityHashText\",\"validatePriorityNode\",\"priorityNode\",\"isLeafNode\",\"getPriority\",\"LeafNode\",\"value_\",\"priorityNode_\",\"EMPTY_NODE\",\"lazyHash_\",\"updatePriority\",\"newPriorityNode\",\"getImmediateChild\",\"childName\",\"getChild\",\"hasChild\",\"getPredecessorChildName\",\"childNode\",\"updateImmediateChild\",\"newChildNode\",\"updateChild\",\"front\",\"numChildren\",\"forEachChild\",\"index\",\"action\",\"exportFormat\",\".value\",\"getValue\",\".priority\",\"hash\",\"toHash\",\"compareTo\",\"compareToLeafNode_\",\"otherLeaf\",\"otherLeafType\",\"thisLeafType\",\"otherIndex\",\"VALUE_TYPE_ORDER\",\"thisIndex\",\"withIndex\",\"isIndexed\",\"_defaultIndexMap\",\"PRIORITY_INDEX\",\"PriorityIndex\",\"aPriority\",\"bPriority\",\"indexCmp\",\"SortedMapIterator\",\"startKey\",\"comparator\",\"isReverse_\",\"resultGenerator_\",\"nodeStack_\",\"getNext\",\"result\",\"hasNext\",\"peek\",\"LLRBNode\",\"color\",\"RED\",\"SortedMap\",\"copy\",\"count\",\"inorderTraversal\",\"reverseTraversal\",\"min_\",\"minKey\",\"maxKey\",\"insert\",\"n\",\"fixUp_\",\"removeMin_\",\"isRed_\",\"moveRedLeft_\",\"smallest\",\"rotateRight_\",\"moveRedRight_\",\"rotateLeft_\",\"colorFlip_\",\"nl\",\"nr\",\"checkMaxDepth_\",\"blackDepth\",\"check_\",\"BLACK\",\"LLRBEmptyNode\",\"comparator_\",\"root_\",\"getPredecessorKey\",\"rightParent\",\"getIterator\",\"resultGenerator\",\"getIteratorFrom\",\"getReverseIteratorFrom\",\"getReverseIterator\",\"LOG_2\",\"Base12Num\",\"num\",\"current_\",\"mask\",\"bits_\",\"nextBitIsOne\",\"buildChildSet\",\"childList\",\"keyFn\",\"mapSortFn\",\"root\",\"base12\",\"buildPennant\",\"chunkSize\",\"low\",\"high\",\"childTree\",\"buildBalancedTree\",\"namedNode\",\"middle\",\"attachPennant\",\"pennant\",\"isOne\",\"buildFrom12Array\",\"fallbackObject\",\"IndexMap\",\"indexes_\",\"indexSet_\",\"indexKey\",\"sortedMap\",\"safeGet\",\"hasIndex\",\"indexDefinition\",\"addIndex\",\"existingChildren\",\"newIndex\",\"sawIndexedValue\",\"iter\",\"indexName\",\"newIndexSet\",\"__assign\",\"newIndexes\",\"addToIndexes\",\"_this\",\"map\",\"indexedChildren\",\"existingSnap\",\"newChildren\",\"removeFromIndexes\",\"NAME_ONLY_COMPARATOR\",\"NAME_COMPARATOR\",\"ChildrenNode\",\"children_\",\"indexMap_\",\"Default\",\"newIndexMap\",\"newPriority\",\"newImmediateChild\",\"numKeys\",\"allIntegerKeys\",\"array\",\"toHash_1\",\"childHash\",\"idx\",\"resolveIndex_\",\"predecessor\",\"getFirstChildName\",\"getFirstChild\",\"getLastChildName\",\"getLastChild\",\"wrappedNode\",\"startPost\",\"iterator\",\"endPost\",\"MAX_NODE$2\",\"otherChildrenNode\",\"thisIter\",\"otherIter\",\"thisCurrent\",\"otherCurrent\",\"MaxNode\",\"defineProperties\",\"MAX\",\"setMaxNode$1\",\"nodeFromJSON$1\",\"json\",\"node_1\",\"childData\",\"children_1\",\"childrenHavePriority_1\",\"childSet\",\"sortedChildSet\",\"setNodeFromJSON\",\"__referenceConstructor\",\"VALUE_INDEX\",\"ValueIndex\",\"valueNode\",\"PathIndex\",\"indexPath_\",\"extractChild\",\"snap\",\"aChild\",\"bChild\",\"DataSnapshot\",\"node_\",\"ref_\",\"index_\",\"exportVal\",\"exists\",\"childPathString\",\"childPath\",\"childRef\",\"forEach\",\"childrenNode\",\"hasChildren\",\"getKey\",\"getRef\",\"DataEvent\",\"eventRegistration\",\"prevName\",\"getPath\",\"ref\",\"getParent\",\"getEventType\",\"getEventRunner\",\"CancelEvent\",\"ValueEventRegistration\",\"callback_\",\"cancelCallback_\",\"context_\",\"respondsTo\",\"createEvent\",\"change\",\"query\",\"getQueryParams\",\"getIndex\",\"snapshotNode\",\"eventData\",\"ctx\",\"cancelCB_1\",\"cb_1\",\"createCancelEvent\",\"matches\",\"hasAnyCallback\",\"ChildEventRegistration\",\"callbacks_\",\"eventToCheck\",\"cancelCB_2\",\"cb_2\",\"otherKeys\",\"thisKeys\",\"otherCount\",\"otherKey\",\"thisKey\",\"every\",\"Query\",\"repo\",\"queryParams_\",\"orderByCalled_\",\"validateQueryEndpoints_\",\"startNode\",\"endNode\",\"hasStart\",\"getIndexStartValue\",\"hasEnd\",\"getIndexEndValue\",\"tooManyArgsError\",\"wrongArgTypeError\",\"getIndexStartName\",\"getIndexEndName\",\"validateLimit_\",\"hasLimit\",\"hasAnchoredLimit\",\"validateNoPreviousOrderByCall_\",\"on\",\"callback\",\"cancelCallbackOrContext\",\"context\",\"ret\",\"getCancelAndContextArgs_\",\"onValueEvent\",\"callbacks\",\"onChildEvent\",\"cancelCallback\",\"container\",\"addEventCallbackForQuery\",\"off\",\"validateContextObject\",\"valueCallback\",\"removeEventCallbackForQuery\",\"once\",\"userCallback\",\"failureCallbackOrContext\",\"firstCall\",\"catch\",\"onceCallback\",\"resolve\",\"err\",\"reject\",\"limitToFirst\",\"limit\",\"limitToLast\",\"orderByChild\",\"parsedPath\",\"newParams\",\"orderBy\",\"orderByKey\",\"orderByPriority\",\"orderByValue\",\"startAt\",\"endAt\",\"equalTo\",\"queryObject\",\"getQueryObject\",\"queryIdentifier\",\"isEqual\",\"sameRepo\",\"samePath\",\"sameQueryIdentifier\",\"cancelOrContext\",\"ExistingValueProvider\",\"DeferredValueProvider\",\"syncTree\",\"syncTree_\",\"calcCompleteEventCache\",\"resolveDeferredLeafValue\",\"existingVal\",\"serverValues\",\"resolveScalarDeferredValue\",\"resolveComplexDeferredValue\",\"JSON\",\"op\",\"existing\",\"unused\",\"delta\",\"existingNode\",\"resolveDeferredValueTree\",\"resolveDeferredValue\",\"resolveDeferredValueSnapshot\",\"rawPri\",\"leafNode\",\"OperationType\",\"SparseSnapshotTree\",\"children\",\"Map\",\"find\",\"size\",\"childKey\",\"has\",\"remember\",\"clear\",\"forget\",\"self_1\",\"tree\",\"delete\",\"forEachTree\",\"prefixPath\",\"func\",\"emptyChildrenSingleton\",\"__referenceConstructor$1\",\"OperationSource\",\"fromUser\",\"fromServer\",\"queryId\",\"tagged\",\"User\",\"Server\",\"forServerTaggedQuery\",\"AckUserWrite\",\"affectedTree\",\"revert\",\"ACK_USER_WRITE\",\"source\",\"operationForChild\",\"subtree\",\"Empty\",\"ImmutableTree\",\"fromObject\",\"childSnap\",\"findRootMostMatchingPathAndValue\",\"predicate\",\"childExistingPathAndValue\",\"findRootMostValueAndPath\",\"toSet\",\"newChild\",\"setTree\",\"newTree\",\"fold\",\"fold_\",\"pathSoFar\",\"accum\",\"findOnPath\",\"findOnPath_\",\"pathToFollow\",\"nextChild\",\"foreachOnPath\",\"foreachOnPath_\",\"currentRelativePath\",\"foreach\",\"foreach_\",\"foreachChild\",\"ListenComplete\",\"LISTEN_COMPLETE\",\"Overwrite\",\"OVERWRITE\",\"Merge\",\"MERGE\",\"CacheNode\",\"fullyInitialized_\",\"filtered_\",\"isFullyInitialized\",\"isFiltered\",\"isCompleteForPath\",\"isCompleteForChild\",\"getNode\",\"ViewCache\",\"eventCache_\",\"serverCache_\",\"updateEventSnap\",\"eventSnap\",\"complete\",\"filtered\",\"updateServerSnap\",\"serverSnap\",\"getEventCache\",\"getCompleteEventSnap\",\"getServerCache\",\"getCompleteServerSnap\",\"Change\",\"oldSnap\",\"valueChange\",\"VALUE\",\"childAddedChange\",\"CHILD_ADDED\",\"childRemovedChange\",\"CHILD_REMOVED\",\"childChangedChange\",\"newSnapshot\",\"oldSnapshot\",\"CHILD_CHANGED\",\"childMovedChange\",\"CHILD_MOVED\",\"IndexedFilter\",\"affectedPath\",\"optChangeAccumulator\",\"oldChild\",\"trackChildChange\",\"updateFullNode\",\"newSnap\",\"filtersNodes\",\"getIndexedFilter\",\"ChildChangeAccumulator\",\"changeMap\",\"oldChange\",\"oldType\",\"getChanges\",\"from\",\"values\",\"NO_COMPLETE_CHILD_SOURCE\",\"NoCompleteChildSource_\",\"getCompleteChild\",\"getChildAfterChild\",\"WriteTreeCompleteChildSource\",\"writes_\",\"viewCache_\",\"optCompleteServerCache_\",\"serverNode\",\"calcCompleteChild\",\"completeServerData\",\"nodes\",\"calcIndexedSlice\",\"ProcessorResult\",\"viewCache\",\"changes\",\"ViewProcessor\",\"filter_\",\"assertIndexed\",\"applyOperation\",\"oldViewCache\",\"operation\",\"writesCache\",\"completeCache\",\"newViewCache\",\"filterServerNode\",\"accumulator\",\"overwrite\",\"applyUserOverwrite_\",\"applyServerOverwrite_\",\"merge\",\"applyUserMerge_\",\"applyServerMerge_\",\"ackUserWrite\",\"revertUserWrite_\",\"ackUserWrite_\",\"listenComplete_\",\"maybeAddValueEvent_\",\"isLeafOrEmpty\",\"oldCompleteSnap\",\"generateEventCacheAfterServerEvent_\",\"changePath\",\"oldEventSnap\",\"shadowingWrite\",\"newEventCache\",\"serverCache\",\"completeChildren\",\"completeEventChildren\",\"calcCompleteEventChildren\",\"completeNode\",\"oldEventNode\",\"updatedPriority\",\"calcEventCacheAfterServerOverwrite\",\"childChangePath\",\"newEventChild\",\"eventChildUpdate\",\"changedSnap\",\"newServerCache\",\"oldServerSnap\",\"serverFilter\",\"newServerNode\",\"newEventSnap\",\"cacheHasChild_\",\"changedChildren\",\"curViewCache\",\"writePath\",\"applyMerge_\",\"viewMergeTree\",\"serverChild\",\"childMergeTree\",\"isUnknownDeepMerge\",\"ackPath\",\"changedChildren_1\",\"changedChildren_2\",\"mergePath\",\"serverCachePath\",\"oldServerNode\",\"completeServerCache\",\"oldEventCache\",\"serverChildren\",\"EventGenerator\",\"query_\",\"generateEventsForChanges\",\"eventCache\",\"eventRegistrations\",\"events\",\"moves\",\"generateEventsForType_\",\"registrations\",\"filteredChanges\",\"filter\",\"compareChanges_\",\"materializedChange\",\"materializeSingleChange_\",\"registration\",\"aWrapped\",\"bWrapped\",\"View\",\"initialViewCache\",\"eventRegistrations_\",\"indexFilter\",\"getNodeFilter\",\"processor_\",\"initialServerCache\",\"initialEventCache\",\"eventGenerator_\",\"getQuery\",\"getCompleteServerCache\",\"cache\",\"loadsAllData\",\"addEventRegistration\",\"removeEventRegistration\",\"cancelError\",\"cancelEvents\",\"path_1\",\"maybeEvent\",\"remaining\",\"concat\",\"generateEventsForChanges_\",\"getInitialEvents\",\"initialChanges\",\"SyncPoint\",\"views\",\"optCompleteServerCache\",\"view\",\"serverCacheComplete\",\"eventCacheComplete\",\"e_2\",\"removed\",\"hadCompleteView\",\"hasCompleteView\",\"entries\",\"_d\",\"__read\",\"viewQueryId\",\"e_2_1\",\"getQueryViews\",\"e_3\",\"e_3_1\",\"e_4\",\"e_4_1\",\"viewForQuery\",\"getCompleteView\",\"viewExistsForQuery\",\"e_5\",\"e_5_1\",\"CompoundWrite\",\"writeTree_\",\"addWrite\",\"rootmost\",\"rootMostPath\",\"addWrites\",\"updates\",\"newWrite\",\"removeWrite\",\"hasCompleteWrite\",\"getCompleteNode\",\"getCompleteChildren\",\"childCompoundWrite\",\"shadowingNode\",\"applySubtreeWrite\",\"writeTree\",\"priorityWrite_1\",\"WriteTree\",\"visibleWrites_\",\"allWrites_\",\"lastWriteId_\",\"childWrites\",\"WriteTreeRef\",\"addOverwrite\",\"writeId\",\"visible\",\"addMerge\",\"getWrite\",\"record\",\"findIndex\",\"writeToRemove\",\"splice\",\"removedWriteWasVisible\",\"removedWriteOverlapsWithOtherWrites\",\"currentWrite\",\"recordContainsPath_\",\"resetTree_\",\"getCompleteWriteData\",\"treePath\",\"writeIdsToExclude\",\"includeHiddenWrites\",\"mergeAtPath\",\"layerTree_\",\"write\",\"layeredCache\",\"subMerge\",\"completeServerChildren\",\"topLevelSet\",\"merge_1\",\"existingEventSnap\",\"existingServerSnap\",\"childMerge\",\"toIterate\",\"writeRecord\",\"DefaultFilter_\",\"writes\",\"treeRoot\",\"compoundWrite\",\"deepNode\",\"treePath_\",\"existingServerCache\",\"SyncTree\",\"listenProvider_\",\"syncPointTree_\",\"pendingWriteTree_\",\"tagToQueryMap\",\"queryToTagMap\",\"applyUserOverwrite\",\"newData\",\"applyOperationToSyncPoints_\",\"applyUserMerge\",\"changeTree\",\"affectedTree_1\",\"applyServerOverwrite\",\"applyServerMerge\",\"applyListenComplete\",\"applyTaggedQueryOverwrite\",\"tag\",\"queryKey\",\"queryKeyForTag_\",\"r\",\"parseQueryKey_\",\"queryPath\",\"applyTaggedOperation_\",\"applyTaggedQueryMerge\",\"applyTaggedListenComplete\",\"foundAncestorDefaultView\",\"pathToSyncPoint\",\"sp\",\"syncPoint\",\"childSyncPoint\",\"viewAlreadyExists\",\"makeQueryKey_\",\"getNextQueryTag_\",\"setupListener_\",\"maybeSyncPoint\",\"removedAndEvents\",\"removingDefault\",\"covered\",\"parentSyncPoint\",\"newViews\",\"collectDistinctViewsForSubTree_\",\"newQuery\",\"listener\",\"createListenerForView_\",\"startListening\",\"queryForListening_\",\"tagForQuery_\",\"hashFn\",\"stopListening\",\"queryToRemove\",\"tagToRemove\",\"removeTags_\",\"maybeChildSyncPoint\",\"childMap\",\"views_1\",\"_key\",\"childViews\",\"queries\",\"removedQuery\",\"removedQueryKey\",\"removedQueryTag\",\"isDefault\",\"queriesToStop\",\"queries_1\",\"childQueries\",\"queryToStop\",\"status\",\"code\",\"reason\",\"toUpperCase\",\"errorForServerCode\",\"splitIndex\",\"nextQueryTag_\",\"applyOperationHelper_\",\"syncPointTree\",\"applyOperationDescendantsHelper_\",\"childOperation\",\"childServerCache\",\"childWritesCache\",\"SnapshotHolder\",\"rootNode_\",\"updateSnapshot\",\"newSnapshotNode\",\"StatsCollection\",\"counters_\",\"incrementCounter\",\"amount\",\"deepCopy\",\"StatsManager\",\"getCollection\",\"hashString\",\"collections_\",\"getOrCreateReporter\",\"creatorFunction\",\"reporters_\",\"StatsListener\",\"collection_\",\"last_\",\"newStats\",\"stat\",\"StatsReporter\",\"collection\",\"server_\",\"statsToReport_\",\"statsListener_\",\"reportStats_\",\"includeStat\",\"stats\",\"reportedStats\",\"haveStatsToReport\",\"reportStats\",\"EventQueue\",\"eventLists_\",\"recursionDepth_\",\"queueEvents\",\"eventDataList\",\"currList\",\"eventPath\",\"EventList\",\"add\",\"raiseEventsAtPath\",\"raiseQueuedEventsMatchingPredicate_\",\"raiseEventsForChangedPath\",\"changedPath\",\"sentAll\",\"eventList\",\"raise\",\"events_\",\"eventFn\",\"EventEmitter\",\"allowedEvents_\",\"listeners_\",\"trigger\",\"listeners\",\"validateEventType_\",\"getInitialEvent\",\"et\",\"VisibilityMonitor\",\"hidden\",\"visibilityChange\",\"document\",\"addEventListener\",\"visible_\",\"getInstance\",\"OnlineMonitor\",\"online_\",\"isMobileCordova\",\"currentlyOnline\",\"PacketReceiver\",\"onMessage_\",\"pendingResponses\",\"currentResponseNum\",\"closeAfterResponse\",\"onClose\",\"closeAfter\",\"responseNum\",\"handleResponse\",\"requestNum\",\"_loop_1\",\"toProcess\",\"this_1\",\"_loop_2\",\"BrowserPollConnection\",\"connId\",\"applicationId\",\"transportSessionId\",\"lastSessionId\",\"bytesSent\",\"bytesReceived\",\"everConnected_\",\"log_\",\"stats_\",\"urlFn\",\"open\",\"onMessage\",\"onDisconnect\",\"curSegmentNum\",\"onDisconnect_\",\"myPacketOrderer\",\"isClosed_\",\"connectTimeoutTimer_\",\"onClosed_\",\"isNodeSdk\",\"readyState\",\"called_1\",\"wrappedFn_1\",\"body\",\"attachEvent\",\"executeWhenDOMReady\",\"scriptTagHolder\",\"FirebaseIFrameScriptHolder\",\"args\",\"command\",\"arg1\",\"arg2\",\"incrementIncomingBytes_\",\"clearTimeout\",\"password\",\"sendNewPolls\",\"pN\",\"urlParams\",\"start\",\"uniqueCallbackIdentifier\",\"href\",\"connectURL\",\"addTag\",\"startLongPoll\",\"addDisconnectPingFrame\",\"forceAllow\",\"forceAllow_\",\"forceDisallow\",\"forceDisallow_\",\"isAvailable\",\"createElement\",\"Windows\",\"UI\",\"markConnectionHealthy\",\"shutdown_\",\"close\",\"myDisconnFrame\",\"removeChild\",\"send\",\"dataStr\",\"base64data\",\"base64Encode\",\"MAX_URL_DATA_SIZE\",\"enqueueSegment\",\"pw\",\"dframe\",\"src\",\"style\",\"display\",\"appendChild\",\"commandCB\",\"onMessageCB\",\"outstandingRequests\",\"Set\",\"pendingSegs\",\"currentSerial\",\"myIFrame\",\"createIFrame_\",\"script\",\"iframeContents\",\"doc\",\"iframe\",\"contentWindow\",\"contentDocument\",\"alive\",\"innerHTML\",\"myID\",\"myPW\",\"newRequest_\",\"theURL\",\"curDataString\",\"d\",\"theSeg\",\"shift\",\"seg\",\"ts\",\"addLongPollTag_\",\"segnum\",\"totalsegs\",\"url\",\"serial\",\"doNewRequest\",\"keepaliveTimeout\",\"loadCB\",\"doNodeLongPoll\",\"newScript_1\",\"async\",\"onload\",\"onreadystatechange\",\"rstate\",\"parentNode\",\"onerror\",\"SDK_VERSION\",\"WebSocketImpl\",\"MozWebSocket\",\"WebSocket\",\"WebSocketConnection\",\"keepaliveTimer\",\"frames\",\"totalFrames\",\"connectionURL_\",\"device\",\"CONSTANTS\",\"NODE_ADMIN\",\"options\",\"headers\",\"User-Agent\",\"platform\",\"X-Firebase-GMPID\",\"env\",\"proxy\",\"origin\",\"mySock\",\"onopen\",\"onclose\",\"onmessage\",\"m\",\"handleIncomingFrame\",\"isOldAndroid\",\"navigator\",\"userAgent\",\"oldAndroidMatch\",\"match\",\"parseFloat\",\"previouslyFailed\",\"appendFrame_\",\"fullMess\",\"jsonMess\",\"handleNewFrameCount_\",\"frameCount\",\"extractFrameCount_\",\"isNaN\",\"mess\",\"resetKeepAlive\",\"remainingData\",\"sendString_\",\"clearInterval\",\"setInterval\",\"responsesRequiredToBeHealthy\",\"healthyTimeout\",\"TransportManager\",\"initTransports_\",\"isWebSocketsAvailable\",\"isSkipPollConnection\",\"transports_\",\"transports\",\"ALL_TRANSPORTS\",\"transport\",\"initialTransport\",\"upgradeTransport\",\"Connection\",\"repoInfo_\",\"applicationId_\",\"onReady_\",\"onKill_\",\"connectionCount\",\"pendingDataMessages\",\"state_\",\"transportManager_\",\"start_\",\"conn\",\"conn_\",\"nextTransportId_\",\"primaryResponsesRequired_\",\"onMessageReceived\",\"connReceiver_\",\"onConnectionLost\",\"disconnReceiver_\",\"tx_\",\"rx_\",\"secondaryConn_\",\"isHealthy_\",\"healthyTimeoutMS\",\"healthyTimeout_\",\"everConnected\",\"onConnectionLost_\",\"onSecondaryConnectionLost_\",\"onPrimaryMessageReceived_\",\"onSecondaryMessageReceived_\",\"sendRequest\",\"dataMsg\",\"msg\",\"t\",\"sendData_\",\"tryCleanupConnection\",\"onSecondaryControl_\",\"controlData\",\"cmd\",\"upgradeIfSecondaryHealthy_\",\"secondaryResponsesRequired_\",\"parsedData\",\"layer\",\"proceedWithUpgrade_\",\"onControl_\",\"onDataMessage_\",\"onPrimaryResponse_\",\"payload\",\"onHandshake_\",\"onConnectionShutdown_\",\"onReset_\",\"sendPingOnPrimaryIfNecessary_\",\"handshake\",\"timestamp\",\"version\",\"h\",\"sessionId\",\"onConnectionEstablished_\",\"tryStartUpgrade_\",\"startUpgrade_\",\"closeConnections_\",\"ServerActions\",\"put\",\"refreshAuthToken\",\"token\",\"onDisconnectPut\",\"onDisconnectMerge\",\"PersistentConnection\",\"onDataUpdate_\",\"onConnectStatus_\",\"onServerInfoUpdate_\",\"authTokenProvider_\",\"authOverride_\",\"nextPersistentConnectionId_\",\"interruptReasons_\",\"listens\",\"outstandingPuts_\",\"outstandingPutCount_\",\"onDisconnectRequestQueue_\",\"connected_\",\"reconnectDelay_\",\"maxReconnectDelay_\",\"securityDebugCallback_\",\"establishConnectionTimer_\",\"requestCBHash_\",\"requestNumber_\",\"realtime_\",\"authToken_\",\"forceTokenRefresh_\",\"invalidAuthTokenCount_\",\"firstConnection_\",\"lastConnectionAttemptTime_\",\"lastConnectionEstablishedTime_\",\"scheduleConnect_\",\"onVisible_\",\"onOnline_\",\"onResponse\",\"curReqNum\",\"listen\",\"currentHashFn\",\"listenSpec\",\"sendListen_\",\"req\",\"p\",\"warnOnListenWarnings_\",\"removeListen_\",\"warnings\",\"indexSpec\",\"indexPath\",\"tryAuth\",\"reduceReconnectDelayIfAdminCredential_\",\"credential\",\"isAdmin\",\"token_1\",\"authMethod\",\"isValidFormat\",\"requestData\",\"cred\",\"res\",\"onAuthRevoked_\",\"unlisten\",\"sendUnlisten_\",\"queryObj\",\"sendOnDisconnect_\",\"request\",\"response\",\"putInternal\",\"sendPut_\",\"queued\",\"errorReason\",\"reqNum\",\"onDataPush_\",\"onListenRevoked_\",\"onSecurityDebugPacket_\",\"Date\",\"getTime\",\"handleTimestamp_\",\"sendConnectStats_\",\"restoreState_\",\"establishConnection_\",\"online\",\"onRealtimeDisconnect_\",\"cancelSentTransactions_\",\"shouldReconnect_\",\"timeSinceLastConnectAttempt\",\"reconnectDelay\",\"onDataMessage_1\",\"onReady_1\",\"onDisconnect_1\",\"connId_1\",\"nextConnectionId_\",\"lastSessionId_1\",\"canceled_1\",\"connection_1\",\"closeFn_1\",\"forceRefresh\",\"getToken\",\"then\",\"accessToken\",\"interrupt\",\"resume\",\"serverTimeOffset\",\"q\",\"normalizedPathString\",\"statusCode\",\"explanation\",\"notifyForInvalidToken\",\"console\",\"_e\",\"_f\",\"clientName\",\"NODE_CLIENT\",\"isReactNative\",\"ReadonlyRestClient\",\"listens_\",\"getListenId_\",\"listenId\",\"thisListen\",\"queryStringParameters\",\"toRestQueryStringParameters\",\"restRequest_\",\"authTokenData\",\"authToken\",\"querystring\",\"xhr\",\"XMLHttpRequest\",\"responseText\",\"Repo\",\"forceRestClient\",\"app\",\"authTokenProvider\",\"dataUpdateCount\",\"eventQueue_\",\"nextWriteId_\",\"interceptServerDataCallback_\",\"persistentConnection_\",\"search\",\"authOverride\",\"appId\",\"addTokenChangeListener\",\"statsReporter_\",\"transactionsInit_\",\"infoData_\",\"infoSyncTree_\",\"infoEvents\",\"updateInfo_\",\"serverSyncTree_\",\"serverTime\",\"offset\",\"generateServerValues\",\"isMerge\",\"taggedChildren\",\"raw\",\"taggedSnap\",\"rerunTransactions_\",\"interceptServerData_\",\"connectStatus\",\"runOnDisconnectEvents_\",\"getNextWriteId_\",\"newVal\",\"newNodeUnresolved\",\"success\",\"clearEvents\",\"callOnCompleteCallback\",\"abortTransactions_\",\"childrenToMerge\",\"empty\",\"changedKey\",\"changedValue\",\"writeId_1\",\"resolvedOnDisconnectTree\",\"resolved\",\"showDelta\",\"longestName\",\"reduce\",\"previousValue\",\"currentValue\",\"paddedStat\",\"statsIncrementCounter\",\"metric\",\"__database\",\"Database\",\"RangedFilter\",\"indexedFilter_\",\"startPost_\",\"getStartPost_\",\"endPost_\",\"getEndPost_\",\"getStartPost\",\"getEndPost\",\"self\",\"startName\",\"endName\",\"LimitedFilter\",\"rangedFilter_\",\"limit_\",\"getLimit\",\"reverse_\",\"isViewFromLeft\",\"fullLimitUpdateChild_\",\"indexCompare_1\",\"foundStartPost\",\"changeAccumulator\",\"indexCmp_1\",\"newChildNamedNode\",\"windowBoundary\",\"inRange\",\"oldChildSnap\",\"compareNext\",\"QueryParams\",\"limitSet_\",\"startSet_\",\"startNameSet_\",\"endSet_\",\"endNameSet_\",\"viewFrom_\",\"indexStartValue_\",\"indexStartName_\",\"indexEndValue_\",\"indexEndName_\",\"WIRE_PROTOCOL_CONSTANTS_\",\"VIEW_FROM_LEFT\",\"copy_\",\"newLimit\",\"VIEW_FROM_RIGHT\",\"WIRE_PROTOCOL_CONSTANTS\",\"INDEX_START_VALUE\",\"INDEX_START_NAME\",\"INDEX_END_VALUE\",\"INDEX_END_NAME\",\"LIMIT\",\"viewFrom\",\"VIEW_FROM\",\"INDEX\",\"REST_CONSTANTS\",\"REST_QUERY_CONSTANTS_\",\"qs\",\"ORDER_BY\",\"START_AT\",\"END_AT\",\"LIMIT_TO_FIRST\",\"LIMIT_TO_LAST\",\"DEFAULT\",\"Reference\",\"parentPath\",\"getRoot\",\"databaseProp\",\"database\",\"transaction\",\"transactionUpdate\",\"applyLocally\",\"promiseComplete\",\"startTransaction\",\"setPriority\",\"thennablePushRef\",\"pushRef\",\"Promise\",\"TransactionStatus\",\"TreeNode\",\"childCount\",\"Tree\",\"name_\",\"parent_\",\"subTree\",\"pathObj\",\"setValue\",\"updateParents_\",\"forEachDescendant\",\"includeSelf\",\"childrenFirst\",\"forEachAncestor\",\"forEachImmediateDescendantWithValue\",\"updateChild_\",\"childEmpty\",\"childExists\",\"MAX_TRANSACTION_RETRIES_\",\"transactionQueueTree_\",\"watchRef\",\"order\",\"retryCount\",\"unwatcher\",\"abortReason\",\"currentWriteId\",\"currentInputSnapshot\",\"currentOutputSnapshotRaw\",\"currentOutputSnapshotResolved\",\"currentState\",\"getLatestState_\",\"RUN\",\"queueNode\",\"nodeQueue\",\"priorityForNode\",\"sendReadyTransactions_\",\"excludeSets\",\"pruneCompletedTransactionsBelowNode_\",\"queue\",\"buildTransactionQueue_\",\"sendTransactionQueue_\",\"setsToIgnore\",\"txn\",\"latestState\",\"snapToSend\",\"latestHash\",\"SENT\",\"dataToSend\",\"pathToSend\",\"COMPLETED\",\"SENT_NEEDS_ABORT\",\"NEEDS_ABORT\",\"rootMostTransactionNode\",\"getAncestorTransactionNode_\",\"rerunTransactionQueue_\",\"abortTransaction\",\"currentNode\",\"newDataNode\",\"oldWriteId\",\"newNodeResolved\",\"lastInput\",\"transactionNode\",\"transactionQueue\",\"aggregateTransactionQueuesForNode_\",\"to\",\"abortTransactionsOnNode_\",\"lastSent\",\"_staticInstance\",\"FirebaseAuthTokenProvider\",\"app_\",\"authProvider_\",\"auth_\",\"getImmediate\",\"auth\",\"addAuthTokenListener\",\"removeTokenChangeListener\",\"removeAuthTokenListener\",\"errorMessage\",\"EmulatorAdminTokenProvider\",\"EMULATOR_AUTH_TOKEN\",\"RepoManager\",\"repos_\",\"useRestClient_\",\"appName\",\"dbUrl\",\"databaseFromApp\",\"authProvider\",\"isEmulator\",\"dbEmulatorHost\",\"createRepo\",\"deleteRepo\",\"appRepos\",\"INTERNAL\",\"DatabaseInternals\",\"checkDeleted_\",\"refFromURL\",\"apiName\",\"parsedURL\",\"goOffline\",\"goOnline\",\"ServerValue\",\"TIMESTAMP\",\".sv\",\"increment\",\"__awaiter\",\"__generator\",\"freeze\",\"__proto__\",\"forceLongPolling\",\"forceWebSockets\",\"setSecurityDebugCallback\",\"interceptServerData\",\"DataConnection\",\"simpleListen\",\"echo\",\"onEcho\",\"RealTimeConnection\",\"ConnectionTarget\",\"TEST_ACCESS\",\"hijackHash\",\"newHash\",\"oldPut\",\"_forceRestClient\",\"registerDatabase\",\"instance\",\"setSDKVersion\",\"registerComponent\",\"Component\",\"getProvider\",\"setServiceProps\",\"setMultipleInstances\",\"registerVersion\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{NSPt:function(t,e,n){\"use strict\";(function(r){Object.defineProperty(e,\"__esModule\",{value:!0});var i,o,s=(i=n(\"wj3C\"))&&\"object\"==typeof i&&\"default\"in i?i.default:i,a=n(\"mrSG\"),h=n(\"zVF4\"),l=n(\"q/0M\"),u=n(\"S+S0\"),c=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),h.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:h.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),p=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return h.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if(\"undefined\"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new c(e)}}catch(n){}return new p},f=d(\"localStorage\"),_=d(\"sessionStorage\"),y=new l.Logger(\"@firebase/database\"),v=(o=1,function(){return o++}),g=function(t){var e=h.stringToByteArray(t),n=new h.Sha1;n.update(e);var r=n.digest();return h.base64.encodeByteArray(r)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=\"\",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&\"object\"==typeof o&&\"number\"==typeof o.length?r+=t.apply(null,o):r+=\"object\"==typeof o?h.stringify(o):o,r+=\" \"}return r},C=null,E=!0,w=function(t,e){h.assert(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(y.logLevel=l.LogLevel.VERBOSE,C=y.log.bind(y),e&&_.set(\"logging_enabled\",!0)):\"function\"==typeof t?C=t:(C=null,_.remove(\"logging_enabled\"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===C&&!0===_.get(\"logging_enabled\")&&w(!0)),C){var n=m.apply(null,t);C(n)}},b=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,a.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+m.apply(void 0,a.__spread(t));y.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+m.apply(void 0,a.__spread(t));throw y.error(n),new Error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+m.apply(void 0,a.__spread(t));y.warn(n)},P=function(t){return\"number\"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R=\"[MIN_NAME]\",D=\"[MAX_NAME]\",x=function(t,e){if(t===e)return 0;if(t===R||e===D)return-1;if(e===R||t===D)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},k=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+h.stringify(e))},F=function t(e){if(\"object\"!=typeof e||null===e)return h.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i=\"{\",o=0;o<n.length;o++)0!==o&&(i+=\",\"),i+=h.stringify(n[o]),i+=\":\",i+=t(e[n[o]]);return i+=\"}\"},A=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){h.assert(!P(t),\"Invalid JSON number\");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(\"\"),l=\"\";for(o=0;o<64;o+=8){var u=parseInt(a.substr(o,8),2).toString(16);1===u.length&&(u=\"0\"+u),l+=u}return l.toLowerCase()},W=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),Q=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw N(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return\"object\"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),H=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=h.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=h.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=h.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),j=function(){function t(t,e,n,r,i,o){void 0===i&&(i=\"\"),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=f.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(h.assert(\"string\"==typeof t,\"typeof type must == string\"),h.assert(\"object\"==typeof e,\"typeof params must == object\"),\"websocket\"===t)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return L(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();var B,K,Y,z,G,X=function(t){var e=$(t),n=e.namespace;\"firebase.com\"===e.domain&&I(e.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),n&&\"undefined\"!==n||\"localhost\"===e.domain||I(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),e.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&N(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var r=\"ws\"===e.scheme||\"wss\"===e.scheme;return{repoInfo:new j(e.host,e.secure,n,r,\"\",n!==e.subdomain),path:new V(e.pathString)}},$=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",o=\"\",s=!0,h=\"https\",l=443;if(\"string\"==typeof t){var u=t.indexOf(\"//\");u>=0&&(h=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf(\"/\");-1===c&&(c=t.length);var p=t.indexOf(\"?\");-1===p&&(p=t.length),e=t.substring(0,Math.min(c,p)),c<p&&(i=function(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}(t.substring(c,p)));var d=function(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split(\"&\")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var h=s.split(\"=\");2===h.length?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):N(\"Invalid query segment '\"+s+\"' in query '\"+t+\"'\")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(u=e.indexOf(\":\"))>=0?(s=\"https\"===h||\"wss\"===h,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if(\"localhost\"===f.toLowerCase())n=\"localhost\";else if(f.split(\".\").length<=2)n=f;else{var _=e.indexOf(\".\");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}\"ns\"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:h,pathString:i,namespace:o}},J=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,Z=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,tt=function(t){return\"string\"==typeof t&&0!==t.length&&!J.test(t)},et=function(t){return\"string\"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return null===t||\"string\"==typeof t||\"number\"==typeof t&&!P(t)||t&&\"object\"==typeof t&&h.contains(t,\".sv\")},rt=function(t,e,n,r,i){i&&void 0===n||it(h.errorPrefix(t,e,i),n,r)},it=function t(e,n,r){var i=r instanceof V?new H(r,e):r;if(void 0===n)throw new Error(e+\"contains undefined \"+i.toErrorString());if(\"function\"==typeof n)throw new Error(e+\"contains a function \"+i.toErrorString()+\" with contents = \"+n.toString());if(P(n))throw new Error(e+\"contains \"+n.toString()+\" \"+i.toErrorString());if(\"string\"==typeof n&&n.length>10485760/3&&h.stringLength(n)>10485760)throw new Error(e+\"contains a string greater than 10485760 utf8 bytes \"+i.toErrorString()+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,s=!1;if(L(n,(function(n,r){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(s=!0,!tt(n)))throw new Error(e+\" contains an invalid key (\"+n+\") \"+i.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');i.push(n),t(e,r,i),i.pop()})),o&&s)throw new Error(e+' contains \".value\" child '+i.toErrorString()+\" in addition to actual children.\")}},ot=function(t,e,n,r,i){if(!i||void 0!==n){var o=h.errorPrefix(t,e,i);if(!n||\"object\"!=typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var s=[];L(n,(function(t,e){var n=new V(t);if(it(o,e,r.child(n)),\".priority\"===n.getBack()&&!nt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!tt(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}}(o,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(P(n))throw new Error(h.errorPrefix(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!nt(n))throw new Error(h.errorPrefix(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},at=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(h.errorPrefix(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||tt(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},lt=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ut=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),lt(t,e,n,r)},ct=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},pt=function(t,e,n){var r=n.path.toString();if(\"string\"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!tt(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),et(t)}(r))throw new Error(h.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},dt=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(h.errorPrefix(t,e,r)+\"must be a boolean.\")},ft=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){h.validateArgCount(\"OnDisconnect.cancel\",0,1,arguments.length),h.validateCallback(\"OnDisconnect.cancel\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){h.validateArgCount(\"OnDisconnect.remove\",0,1,arguments.length),ct(\"OnDisconnect.remove\",this.path_),h.validateCallback(\"OnDisconnect.remove\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){h.validateArgCount(\"OnDisconnect.set\",1,2,arguments.length),ct(\"OnDisconnect.set\",this.path_),rt(\"OnDisconnect.set\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.set\",2,e,!0);var n=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){h.validateArgCount(\"OnDisconnect.setWithPriority\",2,3,arguments.length),ct(\"OnDisconnect.setWithPriority\",this.path_),rt(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),st(\"OnDisconnect.setWithPriority\",2,e,!1),h.validateCallback(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new h.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(h.validateArgCount(\"OnDisconnect.update\",1,2,arguments.length),ct(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"OnDisconnect.update\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.update\",2,e,!0);var i=new h.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return h.validateArgCount(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),yt=(B=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",K=0,Y=[],function(t){var e,n=t===K;K=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=B.charAt(t%64),t=Math.floor(t/64);h.assert(0===t,\"Cannot push at time == 0\");var i=r.join(\"\");if(n){for(e=11;e>=0&&63===Y[e];e--)Y[e]=0;Y[e]++}else for(e=0;e<12;e++)Y[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=B.charAt(Y[e]);return h.assert(20===i.length,\"nextPushId: Length should be 20.\"),i}),vt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new vt(R,t),r=new vt(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return vt.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return z},set:function(t){z=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw h.assertionError(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,z)},e.prototype.makePost=function(t,e){return h.assert(\"string\"==typeof t,\"KeyIndex indexValue must always be a string.\"),new vt(t,z)},e.prototype.toString=function(){return\".key\"},e}(gt),Ct=new mt;var Et,wt,Tt,bt=function(t){return\"number\"==typeof t?\"number:\"+M(t):\"string:\"+t},St=function(t){if(t.isLeafNode()){var e=t.val();h.assert(\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&h.contains(e,\".sv\"),\"Priority must be a string or number.\")}else h.assert(t===G||t.isEmpty(),\"priority of unexpected type.\");h.assert(t===G||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,h.assert(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),St(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return Et},set:function(t){Et=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(h.assert(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+bt(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?M(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(h.assert(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return h.assert(i>=0,\"Unknown leaf type: \"+n),h.assert(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();var Nt,Pt,Rt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,new It(\"[PRIORITY-POST]\",Tt))},e.prototype.makePost=function(t,e){var n=wt(t);return new vt(e,new It(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(gt)),Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ot.EMPTY_NODE,this.right=null!=o?o:Ot.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ot.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ot.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ot=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}(),Ft=Math.log(2),At=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Ft,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var h=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new xt(s,o.node,xt.BLACK,null,null);var h=parseInt(a/2,10)+r,l=e(r,h),u=e(h+1,i);return o=t[h],s=n?n(o):o,new xt(s,o.node,xt.BLACK,l,u)}(i+1,s),l=t[i],u=n?n(l):l;a(new xt(u,l.node,r,null,h))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},h=0;h<e.count;++h){var l=e.nextBitIsOne(),u=Math.pow(2,e.count-(h+1));l?s(u,xt.BLACK):(s(u,xt.BLACK),s(u,xt.RED))}return i}(new At(t.length));return new Ot(r||e,i)},Mt={},Wt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return h.assert(Mt&&Rt,\"ChildrenNode.ts has not been loaded\"),Nt=Nt||new t({\".priority\":Mt},{\".priority\":Rt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=h.safeGet(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Ot?e:null},t.prototype.hasIndex=function(t){return h.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){h.assert(e!==Ct,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var r,i=[],o=!1,s=n.getIterator(vt.Wrap),l=s.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=s.getNext();r=o?Lt(i,e.getCompare()):Mt;var u=e.toString(),c=a.__assign({},this.indexSet_);c[u]=e;var p=a.__assign({},this.indexes_);return p[u]=r,new t(p,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(h.map(this.indexes_,(function(t,i){var o=h.safeGet(r.indexSet_,i);if(h.assert(o,\"Missing index implementation for \"+i),t===Mt){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(vt.Wrap),l=a.getNext();l;)l.name!==e.name&&s.push(l),l=a.getNext();return s.push(e),Lt(s,o.getCompare())}return Mt}var u=n.get(e.name),c=t;return u&&(c=c.remove(new vt(e.name,u))),c.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(h.map(this.indexes_,(function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new vt(e.name,r)):t})),this.indexSet_)},t}();function Qt(t,e){return x(t.name,e.name)}function qt(t,e){return x(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&h.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return Pt||(Pt=new t(new Ot(qt),null,Wt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Pt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(h.assert(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new vt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Pt:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;h.assert(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Rt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+bt(this.getPriority().val())+\":\"),this.forEachChild(Rt,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Rt),r=e.getIterator(Rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),Vt=new(function(t){function e(){return t.call(this,new Ot(qt),Ut.EMPTY_NODE,Wt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));Object.defineProperties(vt,{MIN:{value:new vt(R,Ut.EMPTY_NODE)},MAX:{value:new vt(D,Vt)}}),mt.__EMPTY_NODE=Ut.EMPTY_NODE,It.__childrenNodeConstructor=Ut,G=Vt,function(t){Tt=t}(Vt);function Ht(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if(\"object\"==typeof t&&\".priority\"in t&&(e=t[\".priority\"]),h.assert(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!=typeof t||\".sv\"in t)return new It(t,Ht(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return L(t,(function(e,r){if(h.contains(t,e)&&\".\"!==e.substring(0,1)){var i=Ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ht(e))}var r=[],i=!1;if(L(t,(function(t,e){if(\".\"!==t.substring(0,1)){var n=Ht(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new vt(t,n)))}})),0===r.length)return Ut.EMPTY_NODE;var o=Lt(r,Qt,(function(t){return t.name}),qt);if(i){var s=Lt(r,Rt.getCompare());return new Ut(o,Ht(e),new Wt({\".priority\":s},{\".priority\":Rt}))}return new Ut(o,Ht(e),Wt.Default)}!function(t){wt=t}(Ht);var jt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return vt.MAX},e.prototype.makePost=function(t,e){var n=Ht(t);return new vt(e,n)},e.prototype.toString=function(){return\".value\"},e}(gt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,h.assert(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ht(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new vt(e,r)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,Vt);return new vt(D,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(gt),Yt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return h.validateArgCount(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return h.validateArgCount(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return h.validateArgCount(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return h.validateArgCount(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){h.validateArgCount(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),lt(\"DataSnapshot.child\",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Rt)},t.prototype.hasChild=function(t){h.validateArgCount(\"DataSnapshot.hasChild\",1,1,arguments.length),lt(\"DataSnapshot.hasChild\",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return h.validateArgCount(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(h.validateArgCount(\"DataSnapshot.forEach\",1,1,arguments.length),h.validateCallback(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Rt))}))},t.prototype.hasChildren=function(){return h.validateArgCount(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return h.validateArgCount(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return h.validateArgCount(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+h.stringify(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new zt(\"value\",this,new Yt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),$t=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,h.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){h.assert(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new zt(t.type,this,new Yt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(jt,\"Reference.ts has not been loaded\"),jt},set:function(t){jt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){if(t.getIndexStartName()!==R)throw new Error(r);if(\"string\"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Rt){if(null!=e&&!nt(e)||null!=n&&!nt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(h.assert(t.getIndex()instanceof Kt||t.getIndex()===Bt,\"unknown index type.\"),null!=e&&\"object\"==typeof e||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return h.validateArgCount(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){h.validateArgCount(\"Query.on\",2,4,arguments.length),at(\"Query.on\",1,e,!1),h.validateCallback(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new $t(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){h.validateArgCount(\"Query.off\",0,3,arguments.length),at(\"Query.off\",1,t,!0),h.validateCallback(\"Query.off\",2,e,!0),h.validateContextObject(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new Xt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new $t(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;h.validateArgCount(\"Query.once\",1,4,arguments.length),at(\"Query.once\",1,e,!1),h.validateCallback(\"Query.once\",2,n,!0);var s=t.getCancelAndContextArgs_(\"Query.once\",r,i),a=!0,l=new h.Deferred;l.promise.catch((function(){}));var u=function t(r){a&&(a=!1,o.off(e,t),n&&n.bind(s.context)(r),l.resolve(r))};return this.on(e,u,(function(t){o.off(e,u),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(h.validateArgCount(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(h.validateArgCount(\"Query.limitToLast\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(h.validateArgCount(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');lt(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new V(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new Kt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){h.validateArgCount(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){h.validateArgCount(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){h.validateArgCount(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.startAt\",0,2,arguments.length),rt(\"Query.startAt\",1,e,this.path,!0),ht(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.endAt\",0,2,arguments.length),rt(\"Query.endAt\",1,e,this.path,!0),ht(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(h.validateArgCount(\"Query.equalTo\",1,2,arguments.length),rt(\"Query.equalTo\",1,t,this.path,!1),ht(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return h.validateArgCount(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return h.validateArgCount(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(h.validateArgCount(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,h.validateCallback(t,3,r.cancel,!0),r.context=n,h.validateContextObject(t,4,r.context,!0);else if(e)if(\"object\"==typeof e&&null!==e)r.context=e;else{if(\"function\"!=typeof e)throw new Error(h.errorPrefix(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Zt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&\"object\"==typeof t?(h.assert(\".sv\"in t,\"Unexpected leaf node or priority contents\"),\"string\"==typeof t[\".sv\"]?ne(t[\".sv\"],e,n):\"object\"==typeof t[\".sv\"]?re(t[\".sv\"],e):void h.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case\"timestamp\":return n.timestamp;default:h.assert(!1,\"Unexpected server value: \"+t)}},re=function(t,e,n){t.hasOwnProperty(\"increment\")||h.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2));var r=t.increment;\"number\"!=typeof r&&h.assert(!1,\"Unexpected increment value: \"+r);var i=e.node();if(h.assert(null!=i,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!i.isLeafNode())return r;var o=i.getValue();return\"number\"!=typeof o?r:o+r},ie=function(t,e,n,r){return se(e,new te(n,t),r)},oe=function(t,e,n){return se(t,new Zt(e),n)};function se(t,e,n){var r,i=t.getPriority().val(),o=ee(i,e.getImmediateChild(\".priority\"),n);if(t.isLeafNode()){var s=t,a=ee(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new It(a,Ht(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new It(o))),h.forEachChild(Rt,(function(t,i){var o=se(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ae,he=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Rt,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new V(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]=\"OVERWRITE\",t[t.MERGE=1]=\"MERGE\",t[t.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",t[t.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(ae||(ae={}));var le,ue,ce=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,h.assert(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ae.ACK_USER_WRITE,this.source=ce.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return h.assert(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return h.assert(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(le||(le=new Ot(k)),e=le),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return L(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),_e=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ae.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ae.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new _e(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return h.assert(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(Ut.EMPTY_NODE,!1,!1),new ve(Ut.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),Ce=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){h.assert(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(me.childRemovedChange(e,s)):h.assert(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):s.isEmpty()?o.trackChildChange(me.childAddedChange(e,n)):o.trackChildChange(me.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Rt,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Rt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ee=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;h.assert(e===me.CHILD_ADDED||e===me.CHILD_CHANGED||e===me.CHILD_REMOVED,\"Only child changes supported for tracking\"),h.assert(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===me.CHILD_ADDED&&i===me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===me.CHILD_REMOVED&&i===me.CHILD_ADDED)this.changeMap.delete(n);else if(e===me.CHILD_REMOVED&&i===me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e===me.CHILD_CHANGED&&i===me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!==me.CHILD_CHANGED||i!==me.CHILD_CHANGED)throw h.assertionError(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Te=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),be=function(t,e){this.viewCache=t,this.changes=e},Se=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){h.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),h.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new Ee;if(n.type===ae.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,a):(h.assert(l.source.fromServer,\"Unknown source.\"),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,s,a))}else if(n.type===ae.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,r,i,a):(h.assert(u.source.fromServer,\"Unknown source.\"),s=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,r,i,s,a))}else if(n.type===ae.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,a):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,a)}else{if(n.type!==ae.LISTEN_COMPLETE)throw h.assertionError(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,a)}var p=a.getChanges();return t.maybeAddValueEvent_(e,o,p),new be(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(h.assert(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=l instanceof Ut?l:Ut.EMPTY_NODE,c=n.calcCompleteEventChildren(u);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(\".priority\"===d){h.assert(1===e.getLength(),\"Can't have a priority with additional path components\");var f=o.getNode();a=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,f,a);s=null!=_?this.filter_.updatePriority(f,_):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(d)){a=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);v=null!=g?o.getNode().getImmediateChild(d).updateChild(y,g):o.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());s=null!=v?this.filter_.updateChild(o.getNode(),d,v,y,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(h.getNode(),n,null);else if(l.filtersNodes()&&!h.isFiltered()){var u=h.getNode().updateChild(e,n);a=l.updateFullNode(h.getNode(),u,null)}else{var c=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(c).updateChild(p,n);a=\".priority\"===c?l.updatePriority(h.getNode(),d):l.updateChild(h.getNode(),c,d,p,we,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),_=new Te(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),l=new Te(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(\".priority\"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var c=e.popFront(),p=h.getNode().getImmediateChild(u),d=void 0;if(c.isEmpty())d=n;else{var f=l.getCompleteChild(u);d=null!=f?\".priority\"===c.getBack()&&f.getChild(c.parent()).isEmpty()?f:f.updateChild(c,n):Ut.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),u,d,c,l,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())&&(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())||(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),h},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,l=t;h=e.isEmpty()?n:de.Empty.setTree(e,n);var u=t.getServerCache().getNode();return h.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new V(e),c,r,i,o,s)}})),h.children.inorderTraversal((function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!h){var c=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new V(e),p,r,i,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=de.Empty;return a.getNode().forEachChild(Ct,(function(t,e){h=h.set(new V(t),e)})),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var l=de.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(l=l.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Te(n,t,r),a=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();h.assert(c instanceof Ut,\"serverChildren would be complete if leaf node\"),u=n.calcCompleteEventChildren(c)}u=u,l=this.filter_.updateFullNode(a,u,i)}else{var p=e.getFront(),d=n.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=a.getImmediateChild(p)),(l=null!=d?this.filter_.updateChild(a,p,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(a,p,Ut.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ie=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw h.assertionError(\"Should only compare child_ events.\");var n=new vt(t.childName,t.snapshotNode),r=new vt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ne=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ce(n.getIndex()),i=n.getNodeFilter();this.processor_=new Se(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(Ut.EMPTY_NODE,s.getNode(),null),l=new ve(a,o.isFullyInitialized(),r.filtersNodes()),u=new ve(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(u,l),this.eventGenerator_=new Ie(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){h.assert(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ae.MERGE&&null!==t.source.queryId&&(h.assert(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),h.assert(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),h.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,(function(t,e){n.push(me.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Pe=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(ue,\"Reference.ts has not been loaded\"),ue},set:function(t){h.assert(!ue,\"__referenceConstructor has already been defined\"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return h.assert(null!=s,\"SyncTree gave us an op for an invalid query.\"),s.applyOperation(t,e,n)}var l=[];try{for(var u=a.__values(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;l=l.concat(s.applyOperation(t,e,n))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof Ut?(a=n.calcCompleteEventChildren(r),h=!1):(a=Ut.EMPTY_NODE,h=!1);var l=new ge(new ve(a,h,!1),new ve(r,i,!1));s=new Ne(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),h=[],l=[],u=this.hasCompleteView();if(\"default\"===s)try{for(var c=a.__values(this.views.entries()),p=c.next();!p.done;p=c.next()){var d=a.__read(p.value,2),f=d[0],_=d[1];l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(_=this.views.get(s))&&(l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(s),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return u&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Re=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=V.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new de(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return L(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,(function(e,n){t.push(new vt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new vt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(h.assert(null!==o.value,\"Priority writes must always be leaf nodes\"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(\".priority\"),i)),r}(V.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}();var De=function(){function t(){this.visibleWrites_=Re.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){h.assert(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){h.assert(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));h.assert(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Ut.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(V.Empty)){var l=n||Ut.EMPTY_NODE;return h.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Rt,(function(t,e){var r=i.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){h.assert(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(V.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],u=o.getCompare(),c=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=c.getNext();p&&l.length<r;)0!==u(p,n)&&l.push(p),p=c.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Re.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=V.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=V.relativePath(s,n),r=r.addWrite(V.Empty,o.snap.getChild(a)));else{if(!o.children)throw h.assertionError(\"WriteRecord should have .snap or .children\");if(n.contains(s))a=V.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=V.relativePath(s,n)).isEmpty())r=r.addWrites(V.Empty,o.children);else{var l=h.safeGet(o.children,a.getFront());if(l){var u=l.getChild(a.popFront());r=r.addWrite(V.Empty,u)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ke=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new De,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new _e(ce.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(ce.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(V.Empty,!0):L(n.children,(function(t,e){r=r.set(new V(t),e)})),this.applyOperationToSyncPoints_(new pe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new _e(ce.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(ce.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(ce.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=new _e(ce.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=de.fromObject(n),u=new ye(ce.forServerTaggedQuery(a),h,l);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=V.relativePath(o,e),h=new fe(ce.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=V.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(V.Empty)):(a=new Pe,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=Ut.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=a.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);h.assert(!this.queryToTagMap.has(u),\"View does not exist, but we have a tag\");var c=t.getNextQueryTag_();this.queryToTagMap.set(u,c),this.tagToQueryMap.set(c,u)}var p=this.pendingWriteTree_.childWrites(r),d=a.addEventRegistration(e,n,p,i,s);if(!l&&!o){var f=a.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=h.removed;a=h.events;var u=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),c=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(u&&!c){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&l.length>0&&!r)if(u){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=V.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),L(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)h.assert(!a.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var l=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),L(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var c=l[u];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return h.assert(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);h.assert(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var l=n?n.getImmediateChild(s):null,u=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,l,u))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),l=t.operationForChild(e);l&&(s=s.concat(i.applyOperationDescendantsHelper_(l,o,a,h)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Oe=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Fe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),h.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return h.deepCopy(this.counters_)},t}(),Ae=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Fe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&L(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,(function(e,i){i>0&&h.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),We=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Qe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Qe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();C&&T(\"event: \"+e.toString()),q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},h.assert(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){h.assert(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),Ue=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n=\"visibilitychange\",e=\"hidden\"):void 0!==document.mozHidden?(n=\"mozvisibilitychange\",e=\"mozHidden\"):void 0!==document.msHidden?(n=\"msvisibilitychange\",e=\"msHidden\"):void 0!==document.webkitHidden&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(qe),Ve=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||h.isMobileCordova()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(qe),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if(\"break\"===r())break}},t}(),je=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=b(t),this.stats_=Ae.getCollection(e),this.urlFn=function(t){return e.connectionURL(\"long_polling\",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(h.isNodeSdk()||\"complete\"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Be((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===i)n.id=o,n.password=s;else{if(\"close\"!==i)throw new Error(\"Unrecognized command received: \"+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:\"t\"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=\"5\",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(t.r=\"f\");var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!h.isNodeSdk()&&(!!t.forceAllow_||!(t.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=h.base64Encode(e),r=A(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!h.isNodeSdk()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=h.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Be=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,h.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=e,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var s=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){T(\"frame writing exception\"),a.stack&&T(a.stack),T(a)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||T(\"No IE domain setting required\")}catch(n){var e=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+e+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n=\"\",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+\"&seg\"+r+\"=\"+i.seg+\"&ts\"+r+\"=\"+i.ts+\"&d\"+r+\"=\"+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;h.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ke=\"\";var Ye=null;\"undefined\"!=typeof MozWebSocket?Ye=MozWebSocket:\"undefined\"!=typeof WebSocket&&(Ye=WebSocket);var ze=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=b(this.connId),this.stats_=Ae.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:\"5\"};return!h.isNodeSdk()&&\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(r.r=\"f\"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(\"websocket\",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,f.set(\"previous_websocket_failure\",!0);try{if(h.isNodeSdk()){var i=h.CONSTANTS.NODE_ADMIN?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/5/\"+Ke+\"/\"+r.platform+\"/\"+i,\"X-Firebase-GMPID\":this.applicationId||\"\"}},s={},a=0===this.connURL.indexOf(\"wss://\")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new Ye(this.connURL,[],o)}else{o={headers:{\"X-Firebase-GMPID\":this.applicationId||\"\"}};this.mySock=new Ye(this.connURL,[],o)}}catch(u){this.log_(\"Error instantiating WebSocket.\");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_(\"Websocket connected.\"),n.everConnected_=!0},this.mySock.onclose=function(){n.log_(\"Websocket connection was disconnected.\"),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ye&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get(\"previous_websocket_failure\")},t.prototype.markConnectionHealthy=function(){f.remove(\"previous_websocket_failure\")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=h.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(h.assert(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=A(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ge=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[je,ze]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ze&&ze.isAvailable(),o=i&&!ze.previouslyFailed();if(e.webSocketOnly&&(i||N(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),o=!0),o)this.transports_=[ze];else{var s=this.transports_=[];try{for(var h=a.__values(t.ALL_TRANSPORTS),l=h.next();!l.done;l=h.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Xe=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=b(\"c:\"+this.id+\":\"),this.transportManager_=new Ge(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(\"t\"in t){var e=t.t;\"a\"===e?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O(\"t\",t);if(\"d\"in t){var n=t.d;if(\"h\"===e)this.onHandshake_(n);else if(\"n\"===e){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===e?this.onConnectionShutdown_(n):\"r\"===e?this.onReset_(n):\"e\"===e?S(\"Server Error: \"+n):\"o\"===e?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),\"5\"!==n&&N(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(f.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),$e=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=function(t){function e(n,r,i,o,s,a,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=r,u.onDataUpdate_=i,u.onConnectStatus_=o,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=b(\"p:\"+u.id+\":\"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!h.isNodeSdk())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return u.scheduleConnect_(0),Ue.getInstance().on(\"visible\",u.onVisible_,u),-1===n.host.indexOf(\"fblocal\")&&Ve.getInstance().on(\"online\",u.onOnline_,u),u}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(h.stringify(i)),h.assert(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),h.assert(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest(\"q\",s,(function(s){var a=s.d,h=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_(\"listen response\",s),\"ok\"!==h&&n.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"==typeof t&&h.contains(t,\"w\")){var n=h.safeGet(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();N(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||h.isAdmin(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=h.isValidFormat(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r.noauth=!0:\"object\"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest(\"n\",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){if(\"ok\"!==t.s){var n=t.d;e.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+h.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t.error;\"a\"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):\"m\"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):\"c\"===t?this.onListenRevoked_(e.p,e.q):\"ac\"===t?this.onAuthRevoked_(e.s,e.d):\"sd\"===t?this.onSecurityDebugPacket_(e):S(\"Unrecognized action received from server: \"+h.stringify(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;h.assert(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+\":\"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())};this.realtime_={close:u,sendRequest:function(t){h.assert(l,\"sendRequest call when we're not connected not allowed.\"),l.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(e){a?T(\"getToken() completed but was canceled\"):(T(\"getToken() completed. Creating connection.\"),o.authToken_=e&&e.accessToken,l=new Xe(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){N(t+\" (\"+o.repoInfo_.toString()+\")\"),o.interrupt(\"server_kill\")}),s))})).then(null,(function(t){o.log_(\"Failed to get token: \"+t),a||(h.CONSTANTS.NODE_ADMIN&&N(t),u())}))}},e.prototype.interrupt=function(t){T(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],h.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return F(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(s.values())),l=h.next();!l.done;l=h.next()){var u=l.value;this.sendListen_(u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";h.CONSTANTS.NODE_ADMIN?e=\"admin_node\":h.CONSTANTS.NODE_CLIENT&&(e=\"node\"),t[\"sdk.\"+e+\".\"+Ke.replace(/\\./g,\"-\")]=1,h.isMobileCordova()?t[\"framework.cordova\"]=1:h.isReactNative()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ve.getInstance().currentlyOnline();return h.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($e),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=b(\"p:rest:\"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(h.assert(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_(\"Listen called for \"+s+\" \"+t.queryIdentifier());var a=e.getListenId_(t,r),l={};this.listens_[a]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+\".json\",u,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),h.safeGet(o.listens_,a)===l)&&i(t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+h.querystring(e);r.log_(\"Sending REST request for \"+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_(\"REST Response for \"+s+\" received. status:\",a.status,\"response:\",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=h.jsonEval(a.responseText)}catch(e){N(\"Failed to parse JSON response for \"+s+\": \"+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&N(\"Got unsuccessful REST response for \"+s+\" Status: \"+a.status),n(a.status);n=null}},a.open(\"GET\",s,!0),a.send()}))},e}($e),tn=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new We,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new he,this.persistentConnection_=null,this.stats_=Ae.getCollection(t),e||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if(\"object\"!=typeof o)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{h.stringify(o)}catch(s){throw new Error(\"Invalid authOverride provided: \"+s)}}this.persistentConnection_=new Je(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Ae.getOrCreateReporter(t,(function(){return new Me(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Oe,this.infoSyncTree_=new ke({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new ke({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Ht(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var l=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var u=Ht(e);o=this.serverSyncTree_.applyServerOverwrite(i,u)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;L(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V(\"/.info/\"+t),r=Ht(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Ht(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),h=oe(s,a,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,h,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||N(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(L(e,(function(e,n){i=!1,s[e]=ie(t.child(e),Ht(n),r.serverSyncTree_,o)})),i)T(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||N(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)})),L(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=new he;this.onDisconnect_.forEachTree(V.Empty,(function(r,i){var o=ie(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(V.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new he,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ht(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ht(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return T(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&L(e,(function(e,n){var i=Ht(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(\"repo_interrupt\")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(\"repo_interrupt\")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);L(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),T.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&q((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!1,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new Ce(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);var i=this;return e.forEachChild(Rt,(function(t,e){i.matches(new vt(t,e))||(r=r.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,h=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var c=!1;i.hasNext();){s=i.getNext();!c&&l(a,s)<=0&&(c=!0),c&&o<this.limit_&&l(s,h)<=0?o++:r=r.updateImmediateChild(s.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;h.assert(a.numChildren()===this.limit_,\"\");var l=new vt(e,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(e)){for(var p=a.getImmediateChild(e),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name===e||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,l);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,p)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,p));var _=a.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(me.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return n.isEmpty()?t:c&&o(u,l)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(u.name,u.node)),i.trackChildChange(me.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(u.name,Ut.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Rt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return h.assert(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Rt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Rt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ce(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Rt?e=n.PRIORITY_INDEX:this.index_===Bt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(h.assert(this.index_ instanceof Kt,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=h.stringify(e),this.startSet_&&(r[n.START_AT]=h.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+h.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=h.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+h.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error(\"new Reference() no longer supported - use app.database().\");return t.call(this,e,n,rn.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return h.validateArgCount(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return h.validateArgCount(\"Reference.child\",1,1,arguments.length),\"number\"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?ut(\"Reference.child\",1,t,!1):lt(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){h.validateArgCount(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){h.validateArgCount(\"Reference.root\",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){h.validateArgCount(\"Reference.set\",1,2,arguments.length),ct(\"Reference.set\",this.path),rt(\"Reference.set\",1,t,this.path,!1),h.validateCallback(\"Reference.set\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(h.validateArgCount(\"Reference.update\",1,2,arguments.length),ct(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"Reference.update\",1,t,this.path,!1),h.validateCallback(\"Reference.update\",2,e,!0);var i=new h.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(h.validateArgCount(\"Reference.setWithPriority\",2,3,arguments.length),ct(\"Reference.setWithPriority\",this.path),rt(\"Reference.setWithPriority\",1,t,this.path,!1),st(\"Reference.setWithPriority\",2,e,!1),h.validateCallback(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new h.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return h.validateArgCount(\"Reference.remove\",0,1,arguments.length),ct(\"Reference.remove\",this.path),h.validateCallback(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(h.validateArgCount(\"Reference.transaction\",1,3,arguments.length),ct(\"Reference.transaction\",this.path),h.validateCallback(\"Reference.transaction\",1,t,!1),h.validateCallback(\"Reference.transaction\",2,e,!0),dt(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new h.Deferred;\"function\"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),\"function\"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){h.validateArgCount(\"Reference.setPriority\",1,2,arguments.length),ct(\"Reference.setPriority\",this.path),st(\"Reference.setPriority\",1,t,!1),h.validateCallback(\"Reference.setPriority\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){h.validateArgCount(\"Reference.push\",0,2,arguments.length),ct(\"Reference.push\",this.path),rt(\"Reference.push\",1,t,this.path,!0),h.validateCallback(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=yt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return ct(\"Reference.onDisconnect\",this.path),new ft(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Jt);Jt.__referenceConstructor=on,Pe.__referenceConstructor=on;var sn,an=function(){this.children={},this.childCount=0,this.value=null},hn=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new an),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,h.safeGet(r.node_.children,i)||new an),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){h.assert(void 0!==t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;L(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=h.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]=\"RUN\",t[t.SENT=1]=\"SENT\",t[t.COMPLETED=2]=\"COMPLETED\",t[t.SENT_NEEDS_ABORT=3]=\"SENT_NEEDS_ABORT\",t[t.NEEDS_ABORT=4]=\"NEEDS_ABORT\"}(sn||(sn={})),tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new hn},tn.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new on(this,t);o.on(\"value\",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){o.off(\"value\",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var l=s.update(a.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var u=new Yt(s.currentInputSnapshot,new on(this,s.path),Rt);s.onComplete(null,!1,u)}}else{it(\"transaction failed: Data returned \",l,s.path),s.status=sn.RUN;var c=this.transactionQueueTree_.subTree(t),p=c.getValue()||[];p.push(s),c.setValue(p);var d=void 0;if(\"object\"==typeof l&&null!==l&&h.contains(l,\".priority\"))d=h.safeGet(l,\".priority\"),h.assert(nt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),_=Ht(l,d),y=oe(_,a,f);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);h.assert(n.length>0,\"Sending zero length transaction queue\"),n.every((function(t){return t.status===sn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var l=e[a];h.assert(l.status===sn.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),l.status=sn.SENT,l.retryCount++;var u=V.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var c=o.val(!0),p=t;this.server_.put(p.toString(),c,(function(r){n.log_(\"transaction put response\",{path:p.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=sn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new on(n,e[s].path),l=new Yt(a,h,Rt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)q(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===sn.SENT_NEEDS_ABORT?e[s].status=sn.NEEDS_ABORT:e[s].status=sn.RUN;else{N(\"transaction at \"+p.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=sn.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===sn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],l=V.relativePath(e,a.path),u=!1,c=void 0;if(h.assert(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),a.status===sn.NEEDS_ABORT)u=!0,c=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===sn.RUN)if(a.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c=\"maxretry\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var p=this.getLatestState_(a.path,o);a.currentInputSnapshot=p;var d=t[s].update(p.val());if(void 0!==d){it(\"transaction failed: Data returned \",d,a.path);var f=Ht(d);\"object\"==typeof d&&null!=d&&h.contains(d,\".priority\")||(f=f.updatePriority(p.getPriority()));var _=a.currentWriteId,y=this.generateServerValues(),v=oe(f,p,y);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(_),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,v,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else u=!0,c=\"nodata\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[s].status=sn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if(\"nodata\"===c){var g=new on(this,t[s].path),m=t[s].currentInputSnapshot,C=new Yt(m,g,Rt);r.push(t[s].onComplete.bind(null,null,!1,C))}else r.push(t[s].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)q(r[s]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==sn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===sn.SENT_NEEDS_ABORT);else if(e[o].status===sn.SENT)h.assert(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=sn.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(h.assert(e[o].status===sn.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)q(n[o])}};var ln,un=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(T(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',N(t)},t}(),cn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN=\"owner\",t}(),pn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return ln||(ln=new t),ln},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].interrupt()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].resume()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&I(\"Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().\");var o,s=X(i),a=s.repoInfo,l=void 0;void 0!==r&&(l={}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,i=\"http://\"+l+\"?ns=\"+a.namespace,a=(s=X(i)).repoInfo):o=!s.repoInfo.secure;var u=h.CONSTANTS.NODE_ADMIN&&o?new cn:new un(t,e);return pt(\"Invalid Firebase Database URL\",1,s),s.path.isEmpty()||I(\"Database URL must point to the root of a Firebase Database (not including a child path).\"),this.createRepo(a,t,u).database},t.prototype.deleteRepo=function(t){var e=h.safeGet(this.repos_,t.app.name);e&&h.safeGet(e,t.repoInfo_.toURLString())===t||I(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=h.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=h.safeGet(r,t.toURLString());return i&&I(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof tn||I(\"Don't call new Database() directly - please use firebase.database().\"),this.root_=new on(t,V.Empty),this.INTERNAL=new fn(this)}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),h.validateArgCount(\"database.ref\",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),h.validateArgCount(e,1,1,arguments.length);var n=X(t);pt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){h.validateArgCount(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){h.validateArgCount(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"},increment:function(t){return{\".sv\":{increment:t}}}},t}(),fn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_(\"delete\"),pn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),_n=Object.freeze({__proto__:null,forceLongPolling:function(){ze.forceDisallow(),je.forceAllow()},forceWebSockets:function(){je.forceDisallow()},isWebSocketsAvailable:function(){return ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=Je;Je.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},Je.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var vn=Xe,gn=j,mn=Object.freeze({__proto__:null,DataConnection:yn,RealTimeConnection:vn,hijackHash:function(t){var e=Je.prototype.put;return Je.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Je.prototype.put=e}},ConnectionTarget:gn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){pn.getInstance().forceRestClient(t)}}),Cn=dn.ServerValue;function En(e){!function(t){Ke=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new u.Component(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return pn.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:on,Query:Jt,Database:dn,DataSnapshot:Yt,enableLogging:w,INTERNAL:_n,ServerValue:Cn,TEST_ACCESS:mn}).setMultipleInstances(!0));e.registerVersion(\"@firebase/database\",\"0.6.11\"),h.isNodeSdk()&&(t.exports=n)}En(s),e.DataSnapshot=Yt,e.Database=dn,e.OnDisconnect=ft,e.Query=Jt,e.Reference=on,e.ServerValue=Cn,e.enableLogging=w,e.registerDatabase=En}).call(this,n(\"8oxB\"))}}]);","extractedComments":[]}