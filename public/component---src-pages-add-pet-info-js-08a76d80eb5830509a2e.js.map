{"version":3,"sources":["webpack:///./src/pages/addPetInfo.js","webpack:///./node_modules/gatsby-plugin-firebase/src/firebase.js","webpack:///./node_modules/gatsby-plugin-firebase/index.js"],"names":["AddPetInfoPage","database","firebase","storage","useState","imageAsFile","setImageAsFile","isError","setIsError","errorMessage","setErrorMessager","email","setEmail","name","setName","bio","setBio","owner","setOwner","isAdded","setIsAdded","random1","Math","floor","random","random2","addStatus","setAddStatus","add","setAdd","isDisabled","setIsDisabled","title","style","padding","backgroundColor","color","marginBottom","to","border","htmlFor","type","className","id","value","onChange","e","target","required","maxLength","rows","cols","image","files","imageFile","accept","onSubmit","preventDefault","sum","Number","marginRight","ref","put","set","userEmail","petName","petBio","petImageURL","err","console","log","disabled","apps","length","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId"],"mappings":"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","file":"component---src-pages-add-pet-info-js-08a76d80eb5830509a2e.js","sourcesContent":["import React, {useState} from \"react\"\nimport firebase from \"gatsby-plugin-firebase\";\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { Link } from \"gatsby\"\nimport 'firebase/database';\nimport 'firebase/storage';\n\nconst AddPetInfoPage = () => {\n\nconst database = firebase.database();\nconst storage = firebase.storage();\n    \nconst [imageAsFile, setImageAsFile] = useState('')\nconst [isError, setIsError] = useState(false)\nconst [errorMessage, setErrorMessager] = useState('')\nconst [email, setEmail] = useState('')\nconst [name, setName] = useState('')\nconst [bio, setBio] = useState('')\nconst [owner, setOwner] = useState('')\nconst [isAdded, setIsAdded] = useState(false)\nconst [random1] = useState(Math.floor(Math.random() * 10) + 1)\nconst [random2] = useState(Math.floor(Math.random() * 10) + 1)\nconst [addStatus, setAddStatus] = useState('')\nconst [add, setAdd] = useState('')\nconst [isDisabled, setIsDisabled] = useState(true)\n\n\nfunction addNums(e){\n  e.preventDefault();\n  const sum = random1 + random2;\n\tif(add === ''){\n    setAddStatus(\"Please add the numbers\");\n    \n\t}else if(add !== sum){\n\t\tsetAddStatus(\"Your math is wrong\");\n\t}else{\n    setIsDisabled(false)\n\t\tsetAddStatus(\"Correct, it is now safe to submit the form\")\n\t}\n}\n\nconst handleAdd = (e) => {\n  setAdd(Number(e.target.value))\n}\n\nconst handleEmailChange = (e) => {\n    setEmail(e.target.value)\n}\n\nconst handleNameChange = (e) => {\n    setName(e.target.value)\n}\n\nconst handleBioChange = (e) => {\n    setBio(e.target.value)\n}\n\nconst handleOwnerChange = (e) => {\n    setOwner(e.target.value)\n}\n\nconst handleImageAsFile = (e) => {\n    const image = e?.target?.files[0]\n    setImageAsFile(imageFile => (image))\n}\n    \nconst handleFireBaseUpload = e => {\n  e.preventDefault();\n    try{\n        if(imageAsFile === '') {\n            setIsError(true)\n            setErrorMessager(`Not an image, the image file is a ${typeof(imageAsFile)}, please upload an image` )\n        } else {\n        storage.ref(`/images/${name}${owner}${imageAsFile.name}`).put(imageAsFile)\n        database.ref('/' + name + owner).set({\n            userEmail: email,\n            petName: name,\n            petBio: bio,\n            owner: owner,\n            petImageURL : `${name}${owner}${imageAsFile.name}`\n          });\n    }\n    setName('')\n    setEmail('')\n    setBio('')\n    setImageAsFile('')\n    setOwner('')\n    setIsAdded(true)\n    } catch (err){\n      console.log(err, 'ERROR')\n        setIsError(true)\n        setErrorMessager('An unexpected error occurred')\n    }  \n}    \n\nreturn (\n  <Layout>\n    <SEO title=\"Add Pet Info Page\" />\n    <h1>Please fill out the following information.</h1>\n      {isError && \n        <div style={{padding: '20px', backgroundColor: '#f44336', color: 'white', marginBottom: '15px'}}>\n          <h3>Error</h3>\n          <p>{errorMessage}</p>\n        </div> \n      }\n      {isAdded && \n        <div style={{padding: '20px', backgroundColor: 'green', color: 'white', marginBottom: '15px'}}>\n          <h3>Added!</h3>\n          <p>Your pet memorial has been added. Please head to the <Link to=\"/memorial/\">Pet Memorial</Link> page to view.</p>\n        </div> \n      }\n    <div style={{border: '5px double black', padding: '10px'}}>\n    <form>\n      <div>\n      <br/>\n        <label htmlFor=\"petName\">Pet Name:\n          <div>\n            <input type=\"text\" className=\"name\" id=\"name\" value={name} onChange={handleNameChange} required/>\n          </div>\n        </label>\n        <label htmlFor=\"owner\">Owner(s):\n          <div>\n            <input type=\"text\" className=\"owner\" id=\"owner\" value={owner} onChange={handleOwnerChange} required/>\n          </div>\n        </label>\n        <label htmlFor=\"email\">  Email:\n          <div>\n            <input type=\"text\" className=\"email\" id=\"email\" value={email} onChange={handleEmailChange} required/>\n          </div>\n        </label>\n        <label htmlFor=\"tribute\">  Tribute:\n          <div>\n            <textarea maxLength='1330' className=\"tribute\" rows=\"4\" cols=\"40\" value={bio} onChange={handleBioChange} required/>\n          </div>\n        </label>\n      </div>\n      <div id=\"filesubmit\">\n      <label htmlFor=\"image\">  Image:\n        <div>\n          <input type=\"file\" onChange={handleImageAsFile} accept=\"image/*\"/>\n        </div>\n    </label>\n    </div>\n    </form>\n    <form onSubmit={addNums}>\n    <div>\n        <strong>What is the sum of these numbers?</strong>\n          <div>{random1} + {random2}</div>\n          <input type=\"text\" value={add} onChange={handleAdd}/>\n          <input type=\"submit\" name=\"submit\" value=\"Add Numbers\" style={{marginRight: '10px'}}/>\n          {addStatus && \n            <p>{addStatus}</p>\n            }\n        </div>\n    </form>\n    <form  name='form' onSubmit={handleFireBaseUpload}>\n    <div>\n      <br/>\n        <input type=\"submit\" name=\"submit\" value=\"Submit\" style={{marginRight: '10px'}} disabled={isDisabled}/>\n        <input type=\"reset\" name=\"reset\" value=\"Clear Form\" />\n      </div>\n    </form>\n    </div>\n</Layout>\n)\n}\n\nexport default AddPetInfoPage\n","import firebase from \"firebase/app\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: process.env.FIREBASE_API_KEY,\n    authDomain: process.env.FIREBASE_AUTH_DOMAIN,\n    databaseURL: process.env.FIREBASE_DATABASE_URL,\n    projectId: process.env.FIREBASE_PROJECT_ID,\n    storageBucket: process.env.FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.FIREBASE_APP_ID,\n    measurementId: process.env.FIREBASE_MEASUREMENT_ID\n  });\n}\n\nexport default firebase;\n","import firebase from \"./src/firebase\";\n\nexport default firebase;\n"],"sourceRoot":""}